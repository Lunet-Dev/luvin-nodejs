{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport Cookie from \"js-cookie\";\nvar TOKEN_COOKIE_KEY = \"_tl\";\nvar singleton = Symbol(\"singleton\");\nvar singletonEnforcer = Symbol(\"singletonEnforcer\");\n\nvar Authendication = /*#__PURE__*/function () {\n  function Authendication(enforcer) {\n    _classCallCheck(this, Authendication);\n\n    if (enforcer !== singletonEnforcer) {\n      throw new Error('Constructor không được phép gọi trực tiếp, hãy dùng \"Authendication.instance\"');\n    }\n\n    this.token = null;\n  }\n\n  _createClass(Authendication, [{\n    key: \"getToken\",\n\n    /**\n     * Get token\n     * @returns {*|null}\n     */\n    value: function getToken() {\n      if (!this.token) {\n        var token = Cookie.get(TOKEN_COOKIE_KEY);\n\n        if (token) {\n          this.token = token;\n        }\n      }\n\n      return this.token;\n    }\n    /**\n     * Lưu token cookie\n     * @param token\n     */\n\n  }, {\n    key: \"saveAuthToCookie\",\n    value: function saveAuthToCookie(token) {\n      Cookie.set(TOKEN_COOKIE_KEY, token, {\n        expires: 90\n      }); // 3 tháng\n\n      this.token = token;\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      Cookie.remove(TOKEN_COOKIE_KEY);\n      this.token = null;\n    }\n  }], [{\n    key: \"instance\",\n    get: function get() {\n      if (!this[singleton]) {\n        this[singleton] = new Authendication(singletonEnforcer);\n      }\n\n      return this[singleton];\n    }\n  }]);\n\n  return Authendication;\n}();\n\nexport default Authendication.instance;","map":null,"metadata":{},"sourceType":"module"}