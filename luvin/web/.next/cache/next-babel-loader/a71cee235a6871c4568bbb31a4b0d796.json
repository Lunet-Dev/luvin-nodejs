{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport numeral from \"numeral\";\nimport capitalize from \"lodash/capitalize\";\nimport sum from \"lodash/sum\";\nimport ReactPaginate from \"react-paginate\";\nimport { getProductsSale } from \"../actions/sales\";\nimport { addProduct } from \"../actions/cart\";\n\nvar productsSalesStateSelector = function productsSalesStateSelector(state) {\n  return state.sales;\n};\n\nfunction SalePage(props) {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(productsSalesStateSelector),\n      products = _useSelector.products,\n      total = _useSelector.total,\n      page = _useSelector.page,\n      limit = _useSelector.limit,\n      loading = _useSelector.loading,\n      fetched = _useSelector.fetched,\n      errorMessage = _useSelector.errorMessage;\n\n  return __jsx(\"div\", {\n    className: \"page-template-default page page-id-54 page-child parent-pageid-7 wp-custom-logo theme-hello-elementor woocommerce-no-js elementor-default elementor-kit-76 elementor-page elementor-page-54\"\n  }, __jsx(\"main\", {\n    className: \"site-main post-54 page type-page status-publish hentry\",\n    role: \"main\"\n  }, __jsx(\"div\", {\n    className: \"page-content\"\n  }, __jsx(\"div\", {\n    className: \"elementor elementor-54\"\n  }, __jsx(\"div\", {\n    className: \"elementor-inner\"\n  }, __jsx(\"div\", {\n    className: \"elementor-section-wrap\"\n  }, __jsx(\"section\", {\n    className: \"elementor-section elementor-top-section elementor-element elementor-element-873f2b2 elementor-section-boxed elementor-section-height-default elementor-section-height-default\"\n  }, __jsx(\"div\", {\n    className: \"elementor-container elementor-column-gap-default\"\n  }, __jsx(\"div\", {\n    className: \"elementor-row\"\n  }, __jsx(\"div\", {\n    className: \"elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-e496203\"\n  }, __jsx(\"div\", {\n    className: \"elementor-column-wrap elementor-element-populated\"\n  }, __jsx(\"div\", {\n    className: \"elementor-widget-wrap\"\n  }, __jsx(\"div\", {\n    className: \"elementor-element elementor-element-8d25ff1 elementor-widget elementor-widget-heading\"\n  }, __jsx(\"div\", {\n    className: \"elementor-widget-container\"\n  }, __jsx(\"h2\", {\n    className: \"elementor-heading-title elementor-size-default\"\n  }, \"C\\xE1c s\\u1EA3n ph\\u1EA9m \\u0111ang gi\\u1EA3m gi\\xE1\"))))))))), __jsx(\"section\", {\n    className: \"elementor-section elementor-top-section elementor-element elementor-element-aae031a elementor-section-boxed elementor-section-height-default elementor-section-height-default\"\n  }, __jsx(\"div\", {\n    className: \"elementor-container elementor-column-gap-default\"\n  }, __jsx(\"div\", {\n    className: \"elementor-row\"\n  }, __jsx(\"div\", {\n    className: \"elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fb565a0\"\n  }, __jsx(\"div\", {\n    className: \"elementor-column-wrap elementor-element-populated\"\n  }, __jsx(\"div\", {\n    className: \"elementor-widget-wrap\"\n  }, __jsx(\"div\", {\n    className: \"elementor-element elementor-element-3f4b994 elementor-products-columns-3 uudaibox elementor-products-columns-mobile-1 elementor-products-grid elementor-wc-products elementor-show-pagination-border-yes elementor-widget elementor-widget-woocommerce-products\"\n  }, __jsx(\"div\", {\n    className: \"elementor-widget-container\"\n  }, __jsx(\"div\", {\n    className: \"woocommerce columns-3\"\n  }, __jsx(\"div\", {\n    className: \"woocommerce-notices-wrapper\"\n  }), __jsx(\"ul\", {\n    className: \"products columns-3\"\n  }, products.map(function (product) {\n    var slug = product.slug,\n        ident = product.ident,\n        name = product.name,\n        description = product.description,\n        type = product.type,\n        origin = product.origin,\n        discount = product.discount,\n        price = product.price,\n        reviews = product.reviews,\n        images = product.images;\n    var discountPercent = Math.ceil(discount / price * 100);\n    var totalRate = sum(reviews.map(function (_ref) {\n      var rate = _ref.rate;\n      return rate || 0;\n    }));\n    var ratePercent = totalRate / reviews.length / 5 * 100;\n    return __jsx(\"li\", {\n      className: \"product type-product post-280 status-publish first instock product_cat-banh-mi product_cat-ruou-vang has-post-thumbnail sale shipping-taxable purchasable product-type-simple\"\n    }, __jsx(\"a\", {\n      href: \"../beanie-with-logo/index.html\",\n      className: \"woocommerce-LoopProduct-link woocommerce-loop-product__link\"\n    }, __jsx(\"img\", {\n      width: \"300\",\n      height: \"360\",\n      src: \"../../wp-content/uploads/pexels-kenneth-2912108-300x360.jpg\",\n      className: \"attachment-woocommerce_thumbnail size-woocommerce_thumbnail\",\n      alt: \"\"\n    }), !!discountPercent && __jsx(\"div\", {\n      className: \"wapl-label-id-484 label-wrap wapl-corner label-red wapl-alignnone\"\n    }, __jsx(\"span\", {\n      className: \"woocommerce-advanced-product-label product-label label-red\"\n    }, __jsx(\"span\", {\n      className: \"wapl-label-text\"\n    }, discountPercent, \"%\"))), __jsx(\"h2\", {\n      className: \"woocommerce-loop-product__title\"\n    }, name), !!ratePercent && __jsx(\"div\", {\n      classNameName: \"star-rating\",\n      role: \"img\",\n      \"aria-label\": \"\\u0110\\u01B0\\u1EE3c x\\u1EBFp h\\u1EA1ng \".concat(totalRate / reviews.length, \" 5 sao\")\n    }, __jsx(\"span\", {\n      style: {\n        width: \"\".concat(ratePercent, \"%\")\n      }\n    }, \"\\u0110\\u01B0\\u1EE3c x\\u1EBFp h\\u1EA1ng\", \" \", __jsx(\"strong\", {\n      className: \"rating\"\n    }, totalRate / reviews.length), \" \", \"5 sao\")), __jsx(\"span\", {\n      className: \"price\"\n    }, !!discountPercent && __jsx(\"del\", null, __jsx(\"span\", {\n      className: \"woocommerce-Price-amount amount\"\n    }, __jsx(\"bdi\", null, numeral(price).format(\"0,0\"), __jsx(\"span\", {\n      className: \"woocommerce-Price-currencySymbol\"\n    }, \"\\u20AB\")))), __jsx(\"ins\", null, __jsx(\"span\", {\n      className: \"woocommerce-Price-amount amount\"\n    }, __jsx(\"bdi\", null, numeral(price - discount).format(\"0,0\"), __jsx(\"span\", {\n      className: \"woocommerce-Price-currencySymbol\"\n    }, \"\\u20AB\"))))), __jsx(\"p\", {\n      className: \"arterm\"\n    }, __jsx(\"i\", {\n      className: \"fas fa-wine-bottle\"\n    }), \"\\xA0\", capitalize(type)), __jsx(\"p\", {\n      className: \"arterm\"\n    }, __jsx(\"i\", {\n      className: \"fas fa-globe-africa\"\n    }), \"\\xA0\", capitalize(origin), capitalize(origin)), __jsx(\"p\", {\n      className: \"arterm\"\n    }, __jsx(\"i\", {\n      className: \"fas fa-info-circle\"\n    }), \"\\xA0\", description), \" \"), __jsx(\"a\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      className: \"button product_type_simple add_to_cart_button ajax_add_to_cart\",\n      onClick: function onClick() {\n        return dispatch(addProduct(1, product));\n      }\n    }, \"\\u0110\\u1EB7t mua\"));\n  })), !!Math.ceil(total / limit) && __jsx(\"nav\", {\n    className: \"woocommerce-pagination\"\n  }, __jsx(ReactPaginate, {\n    previousLabel: \"<\",\n    nextLabel: \">\",\n    forcePage: page - 1,\n    breakLabel: \"...\",\n    breakClassName: \"break-me\",\n    pageCount: Math.ceil(total / limit),\n    marginPagesDisplayed: 2,\n    pageRangeDisplayed: 3,\n    onPageChange: function onPageChange(page) {\n      dispatch(getProducts(categorySlug, limit, page.selected + 1, sort, type, origin));\n    },\n    containerClassName: \"page-numbers\",\n    activeLinkClassName: \"current\",\n    pageLinkClassName: \"page-numbers\"\n  })))))))))))))))));\n}\n\nSalePage.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(props) {\n    var _props$ctx, store, req, accessToken, query;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _props$ctx = props.ctx, store = _props$ctx.store, req = _props$ctx.req, accessToken = _props$ctx.accessToken, query = _props$ctx.query;\n            store.dispatch(getProductsSale(12, 1));\n            return _context.abrupt(\"return\", {});\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default SalePage;","map":null,"metadata":{},"sourceType":"module"}