{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport Swiper, { Navigation, Autoplay } from \"swiper\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Link from \"next/link\";\nimport Portal from \"./Portal\";\nimport { getUpcommingEvents, resetState } from \"../../actions/events\";\n\nconst eventsStateSelector = state => state.events;\n\nfunction PopupEvents(props) {\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const dispatch = useDispatch();\n  const {\n    upcomming,\n    occurred\n  } = useSelector(eventsStateSelector);\n\n  const checkDate = () => {\n    const today = new Date().toLocaleDateString();\n    const lastShowAt = localStorage.getItem(\"levent\");\n\n    if (lastShowAt !== today) {\n      setTimeout(() => {\n        setShow(true);\n        localStorage.setItem(\"levent\", today);\n      }, 5000);\n    }\n  };\n\n  useEffect(() => {\n    checkDate();\n  }, []);\n  useEffect(() => {\n    if (show) {\n      dispatch(getUpcommingEvents());\n      Swiper.use([Navigation, Autoplay]);\n    }\n  }, [show]);\n\n  const handleClose = () => {\n    const today = new Date().toLocaleDateString();\n    localStorage.setItem(\"levent\", today);\n    setShow(false);\n  };\n\n  useEffect(() => {\n    if (upcomming.events.length) {\n      console.log(\"init upcommong\");\n      const eventSwiper = new Swiper(\".swiper-event\", {\n        loop: true,\n        autoplay: {\n          delay: 4000\n        },\n        // Navigation arrows\n        navigation: {\n          prevEl: \".event-swiper-button-prev\",\n          nextEl: \".event-swiper-button-next\"\n        }\n      });\n    }\n  }, [upcomming.events]);\n  return __jsx(Portal, null, __jsx(\"style\", null, `\n        .swiper-button-next:after, .swiper-container-rtl .swiper-button-prev:after {\n          content: '';\n      }\n      .swiper-button-prev:after, .swiper-container-rtl .swiper-button-next:after {\n        content: '';\n    }\n        `), __jsx(\"div\", {\n    className: \"dialog-widget dialog-lightbox-widget dialog-type-buttons dialog-type-lightbox elementor-popup-modal\",\n    id: \"elementor-popup-modal-635\",\n    style: {\n      display: show ? \"flex\" : \"none\"\n    }\n  }, __jsx(\"div\", {\n    className: \"dialog-widget-content dialog-lightbox-widget-content animated\"\n  }, __jsx(\"div\", {\n    className: \"dialog-header dialog-lightbox-header\"\n  }), __jsx(\"div\", {\n    className: \"dialog-message dialog-lightbox-message\"\n  }, __jsx(\"div\", {\n    \"data-elementor-type\": \"popup\",\n    \"data-elementor-id\": \"635\",\n    className: \"elementor elementor-635 elementor-location-popup\",\n    \"data-elementor-settings\": \"{\\\"entrance_animation\\\":\\\"slideInUp\\\",\\\"close_button_position\\\":\\\"outside\\\",\\\"entrance_animation_duration\\\":{\\\"unit\\\":\\\"px\\\",\\\"size\\\":1.2,\\\"sizes\\\":[]},\\\"triggers\\\":{\\\"page_load_delay\\\":10,\\\"page_load\\\":\\\"yes\\\"},\\\"timing\\\":[]}\",\n    style: {\n      display: show ? \"block\" : \"none\"\n    }\n  }, __jsx(\"div\", {\n    className: \"elementor-section-wrap\"\n  }, __jsx(\"section\", {\n    \"data-particle_enable\": \"false\",\n    \"data-particle-mobile-disabled\": \"false\",\n    className: \"elementor-section elementor-top-section elementor-element elementor-element-0b3b94f elementor-section-boxed elementor-section-height-default elementor-section-height-default\",\n    \"data-id\": \"0b3b94f\",\n    \"data-element_type\": \"section\"\n  }, __jsx(\"div\", {\n    className: \"elementor-container elementor-column-gap-default\"\n  }, __jsx(\"div\", {\n    className: \"elementor-row\"\n  }, __jsx(\"div\", {\n    className: \"elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d210544\",\n    \"data-id\": \"d210544\",\n    \"data-element_type\": \"column\"\n  }, __jsx(\"div\", {\n    className: \"elementor-column-wrap elementor-element-populated\"\n  }, __jsx(\"div\", {\n    className: \"elementor-widget-wrap\"\n  }, __jsx(\"div\", {\n    className: \"elementor-element elementor-element-ca4af82 elementor-widget elementor-widget-eael-post-carousel\",\n    \"data-id\": \"ca4af82\",\n    \"data-element_type\": \"widget\",\n    \"data-widget_type\": \"eael-post-carousel.default\"\n  }, __jsx(\"div\", {\n    className: \"elementor-widget-container\"\n  }, __jsx(\"div\", {\n    className: \"swiper-container-wrap eael-logo-carousel-wrap eael-post-grid-container eael-post-carousel-wrap eael-post-carousel-style-default\",\n    id: \"eael-post-grid-ca4af82\"\n  }, __jsx(\"div\", {\n    className: \"swiper-event swiper-container eael-post-carousel eael-post-grid swiper-container-ca4af82 eael-post-appender-ca4af82 swiper-container-initialized swiper-container-horizontal swiper-container-autoheight\" // data-pagination=\".swiper-pagination-ca4af82\"\n    // data-arrow-next=\".swiper-button-next-ca4af82\"\n    // data-arrow-prev=\".swiper-button-prev-ca4af82\"\n    // data-items=\"1\"\n    // data-items-tablet=\"1\"\n    // data-items-mobile=\"1\"\n    // data-margin=\"20\"\n    // data-effect=\"slide\"\n    // data-speed=\"400\"\n    // data-autoplay=\"4000\"\n    // data-pause-on-hover=\"true\"\n    // data-loop=\"1\"\n    // data-grab-cursor=\"1\"\n    // data-arrows=\"1\"\n    // style={{ cursor: \"grab\" }}\n    // style=\"cursor: grab;\"\n\n  }, __jsx(\"div\", {\n    className: \"swiper-wrapper\"\n  }, upcomming.events.map(event => {\n    const {\n      title,\n      description,\n      slug,\n      image\n    } = event;\n    return __jsx(\"div\", {\n      className: \"swiper-slide\"\n    }, __jsx(\"article\", {\n      className: \"eael-grid-post eael-post-grid-column\"\n    }, __jsx(\"div\", {\n      className: \"eael-grid-post-holder\"\n    }, __jsx(\"div\", {\n      className: \"eael-grid-post-holder-inner\"\n    }, __jsx(\"div\", {\n      className: \"eael-entry-media eael-entry-medianone\"\n    }, __jsx(\"div\", {\n      className: \"eael-entry-thumbnail\"\n    }, __jsx(\"img\", {\n      src: image,\n      alt: \"\"\n    }), __jsx(Link, {\n      href: \"/su-kien/[slug].js\",\n      as: `/su-kien/${slug}`\n    }, __jsx(\"a\", null)))), __jsx(\"div\", {\n      className: \"eael-entry-wrapper\"\n    }, __jsx(\"header\", {\n      className: \"eael-entry-header\"\n    }, __jsx(\"h2\", {\n      className: \"eael-entry-title\"\n    }, __jsx(Link, {\n      href: \"/su-kien/[slug].js\",\n      as: `/su-kien/${slug}`\n    }, __jsx(\"a\", {\n      className: \"eael-grid-post-link\",\n      title: \"B\\xE0i vi\\u1EBFt s\\u1EF1 ki\\u1EC7n s\\u1EAFp t\\u1EDBi\"\n    }, title))))), __jsx(\"div\", {\n      className: \"eael-entry-content\"\n    }, __jsx(\"div\", {\n      className: \"eael-grid-post-excerpt\"\n    }, __jsx(\"div\", {\n      className: \"eael-post-elements-readmore-wrap\"\n    }, __jsx(Link, {\n      href: \"/su-kien/[slug].js\",\n      as: `/su-kien/${slug}`\n    }, __jsx(\"a\", {\n      className: \"eael-post-elements-readmore-btn\"\n    })))))))));\n  }))), __jsx(\"div\", {\n    className: \"clearfix\"\n  }), __jsx(\"div\", {\n    className: \"swiper-button-next swiper-button-next-ca4af82 event-swiper-button-next\",\n    tabindex: \"0\",\n    role: \"button\",\n    \"aria-label\": \"Next slide\"\n  }, __jsx(\"i\", {\n    className: \"fa fa-angle-right\"\n  })), __jsx(\"div\", {\n    className: \"swiper-button-prev swiper-button-prev-ca4af82 event-swiper-button-prev\",\n    tabindex: \"0\",\n    role: \"button\",\n    \"aria-label\": \"Previous slide\"\n  }, __jsx(\"i\", {\n    className: \"fa fa-angle-left\"\n  }))))), __jsx(\"div\", {\n    className: \"elementor-element elementor-element-eb5bb79 elementor-align-center elementor-widget elementor-widget-button\",\n    \"data-id\": \"eb5bb79\",\n    \"data-element_type\": \"widget\",\n    \"data-widget_type\": \"button.default\"\n  }, __jsx(\"div\", {\n    className: \"elementor-widget-container\"\n  }, __jsx(\"div\", {\n    className: \"elementor-button-wrapper\"\n  }, __jsx(Link, {\n    href: \"/su-kien\"\n  }, __jsx(\"a\", {\n    className: \"elementor-button-link elementor-button elementor-size-xs\",\n    role: \"button\"\n  }, __jsx(\"span\", {\n    className: \"elementor-button-content-wrapper\"\n  }, __jsx(\"span\", {\n    className: \"elementor-button-text\"\n  }, \"T\\u1EA5t c\\u1EA3 s\\u1EF1 ki\\u1EC7n\")))))))))))))))), __jsx(\"div\", {\n    className: \"dialog-buttons-wrapper dialog-lightbox-buttons-wrapper\"\n  })), __jsx(\"div\", {\n    className: \"dialog-close-button dialog-lightbox-close-button\",\n    onClick: handleClose\n  }, __jsx(\"i\", {\n    className: \"eicon-close\"\n  }))));\n}\n\nexport default PopupEvents;","map":null,"metadata":{},"sourceType":"module"}