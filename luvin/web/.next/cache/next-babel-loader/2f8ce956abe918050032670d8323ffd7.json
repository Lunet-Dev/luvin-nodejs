{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport App from \"next/app\";\nimport { compose } from \"recompose\";\nimport { Provider } from \"react-redux\";\nimport withRedux from \"next-redux-wrapper\";\nimport withReduxSaga from \"next-redux-saga\";\nimport \"react-modal-video/css/modal-video.min.css\";\nimport createStore from \"../store\";\nimport Header from \"../components/Layout/Header\";\nimport Footer from \"../components/Layout/Footer\";\nimport { getUserInfo } from \"../actions/auth\";\nimport { getConfigs } from \"../actions/configs\";\nimport { getCategories } from \"../actions/categories\";\nimport withAuthSync from \"../hocs/withAuthSync\";\n\nclass MyApp extends App {\n  static async getInitialProps({\n    Component,\n    ctx\n  }) {\n    let pageProps = {};\n\n    if (ctx.req) {\n      // server?\n      ctx.store.dispatch(getConfigs());\n      ctx.store.dispatch(getCategories());\n\n      if (ctx.accessToken) {\n        ctx.store.dispatch(getUserInfo(ctx.accessToken));\n      }\n    }\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps({\n        ctx\n      });\n    }\n\n    return {\n      pageProps\n    };\n  }\n\n  render() {\n    const {\n      Component,\n      pageProps,\n      store\n    } = this.props;\n    return __jsx(Provider, {\n      store: store\n    }, __jsx(Header, null), __jsx(Component, pageProps), __jsx(Footer, null));\n  }\n\n}\n\nexport default compose(withRedux(createStore), withReduxSaga, withAuthSync)(MyApp);","map":null,"metadata":{},"sourceType":"module"}