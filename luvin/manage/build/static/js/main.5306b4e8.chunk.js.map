{"version":3,"sources":["components/Error/index.js","configs.js","atoms/auth.js","components/Route/RequireAuth.js","components/Route/RequireUnAuth.js","utils/authendication.js","utils/request.js","apis/auth.js","containers/LoginPage/index.js","apis/upload.js","components/Upload/index.js","components/Modal/index.js","components/Modal/ModalHeader.js","components/Modal/ModalBody.js","components/Modal/ModalFooter.js","apis/users.js","utils/cleanObj.js","utils/withRole.js","components/Layout/index.js","hocs/withLayout.js","containers/UsersPage/index.js","atoms/categories.js","apis/categories.js","hooks/useCategories.js","containers/CategoriesPage/index.js","apis/products.js","containers/ProductsPage/index.js","atoms/pos.js","apis/pos.js","hooks/usePos.js","apis/orders.js","containers/OrdersPage/index.js","apis/posts.js","containers/CreatePost/index.js","apis/configs.js","containers/SettingsPage/index.js","containers/PostsPage/index.js","apis/page.js","containers/EditPages/index.js","apis/feedbacks.js","containers/FeedbacksPage/index.js","containers/TastyPage/index.js","containers/AboutUsPage/index.js","apis/vouchers.js","containers/VouchersPage/index.js","containers/PosPage/index.js","App.js","serviceWorker.js","index.js"],"names":["Error","props","class","to","className","src","alt","SALE_MOD","ROLE_ADMIN","USER_ROLES","authState","atom","key","default","RouterRequireAuth","Component","component","role","rest","auth","useRecoilValue","requiredRoleIndex","useHistory","indexOf","currentRoleIndex","render","_id","defaultProps","RouterRequireUnAuth","console","log","singleton","Symbol","singletonEnforcer","Authendication","enforcer","this","token","Cookie","get","set","expires","remove","parseJSON","response","a","json","data","status","message","request","path","options","url","process","fetch","headers","authorization","getToken","Accept","then","getUserInfo","login","loginData","method","body","JSON","stringify","LoginPage","setAuthState","useSetRecoilState","useState","phone","password","state","setState","handleLogin","event","preventDefault","user","includes","toastr","saveAuthToCookie","href","height","onSubmit","for","type","id","placeholder","value","onChange","target","uploadArray","formData","Upload","initFiles","onUploaded","maxFiles","files","updateFile","useDropzone","accept","onDrop","acceptedFiles","FormData","index","length","file","append","cleanFiles","map","replace","getRootProps","getInputProps","data-dz-thumbnail","style","fontSize","Backdrop","ReactDOM","createPortal","document","querySelector","ModalPortal","children","visible","useEffect","classList","add","getElementById","Modal","display","ModalHeader","ModalBody","ModalFooter","getUsers","limit","page","name","level","createUser","userInfo","updateUser","userId","deleteUser","clean","obj","propName","undefined","requiredRoles","currentRole","LayoutComponent","Layout","Header","Content","Footer","Sider","useRecoilState","history","data-toggle","aria-haspopup","aria-expanded","avatar","onClick","logout","push","data-simplebar","position","withLayout","chidren","ModalUpdateUser","onClose","onUpdated","isCreate","email","birthday","Date","address","point","loading","handleChangeUserInfo","prop","handleSubmit","cleanObj","data-dismiss","aria-label","aria-hidden","dateFormat","selected","date","required","rows","openModalCreate","openModalUpdate","userSelected","users","total","handleChangeSearchValue","handleSearchUsers","newState","handleDeleteUser","filter","slice","_user","withRole","scope","width","charAt","toUpperCase","previousLabel","nextLabel","forcePage","breakLabel","breakClassName","pageCount","Math","ceil","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","pageClassName","previousClassName","nextClassName","activeClassName","pageLinkClassName","previousLinkClassName","nextLinkClassName","categoriesState","getCategories","updateCategory","categoryIdent","categoryData","useCategories","categories","setCategoriesState","handleGetCategories","ModalDetailCategory","category","ident","description","slug","image","data-holder-rendered","ModalUpdateCategory","handleChangeCategoryInfo","handleUpdateCategory","openModalDetail","categorySelected","_category","findProducts","discount","origin","updateProduct","productIdent","productData","deleteProduct","syncProducts","ModalDetailProduct","product","price","whiteSpace","images","ModalUpdateProduct","handleChangeProductInfo","handleUpdateProduct","productSelected","products","syncLoading","handleSearchProducts","handleDeleteProduct","handleSyncProduct","_product","maxWidth","overflow","textOverflow","numeral","format","posState","getPos","createPos","posData","updatePos","posId","deletePos","usePos","pos","setPosState","handleGetPos","getOrders","paymentMethod","paid","updateOrder","orderId","orderInfo","deleteOrder","pushToPos","ModalSelectPos","order","handleSendToPos","ModalDetailOrder","totalWithoutDiscount","sum","orderDetails","totalPrice","voucher","shipAddress","shipCity","note","code","orderDetail","productId","quantity","colspan","ModalUpdateOrder","openModalSelectPos","orderSelected","orders","handleSearchOrders","handleDeleteOrder","_order","lid","moment","createdAt","getPosts","getPostDetail","postSlug","createPost","postData","updatePost","deletePost","useParams","title","content","video","startedAt","endedAt","fetched","handleChange","handleGetPostDetail","data-repeater-list","data-repeater-item","config","editor","ClassicEditor","getData","getConfigs","updateConfigs","configData","getTastyConfig","updateTastyConfig","getAboutUsConfig","updateAboutUsConfig","banners","slogan","ctaImage","ctaTitle","ctaDescription","ctaUrl","handleGetConfigs","handleChangeSetting","handleUpdateConfig","posts","handleSearchPosts","handleDeletePost","post","getPages","updatePage","pageSetting","defaultPageSelected","pages","pageSelected","handleGetPages","firstPage","handleSaveSetting","marginBottom","handleChangePage","cursor","onBlur","findFeedbacks","updateFeedback","feedbackId","feedbackData","deleteFeedback","ModalDetailFeedback","feedback","ModalUpdateFeedback","handleChangeFeedbackInfo","handleUpdateFeedback","feedbackSelected","feedbacks","handleSearchFeedbacks","reviews","handleDeleteFeedback","handleShowOnFeedbackPage","isShow","_feedback","rate","TextArea","Input","layout","Select","Option","labelCol","span","wrapperCol","tasty","sProducts","fetching","Form","useForm","form","onFinish","values","autoComplete","initialValues","Item","label","setFieldsValue","List","noStyle","fields","field","alignItems","flexDirection","flex","justifyContent","marginRight","marginLeft","MinusCircleOutlined","block","icon","PlusOutlined","htmlType","title2","title2Image","description2","title3","description3","title4","description4","getVouchers","available","createVoucher","voucherData","updateVoucher","voucherId","deleteVoucher","ModalUpdateVoucher","userIds","validAt","isAll","handleChangeVoucherInfo","voucherInfo","htmlFor","mode","labelInValue","notFoundContent","size","filterOption","onSearch","debounce","voucherSelected","vouchers","handleSearchVouchers","handleDeleteVoucher","_voucher","ModalUpdatePos","ip","port","handleChangePosInfo","posInfo","posSelected","handleDeletePos","_pos","p","App","setLoading","_getUserInfo","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","exact","Login","Users","Categories","Vouchers","Products","Orders","CreatePost","Settings","Posts","EditPages","Feedbacks","Pos","Tasty","AboutUs","Boolean","window","location","hostname","match","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.5306b4e8.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Error(props) {\r\n  return (\r\n    <div class=\"account-pages my-5 pt-5\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"text-center mb-5\">\r\n              <h1 class=\"display-2 font-weight-medium\">\r\n                4<i class=\"bx bx-buoy bx-spin text-primary display-3\"></i>4\r\n              </h1>\r\n              <h4 class=\"text-uppercase\">Sorry, page not found</h4>\r\n              <div class=\"mt-5 text-center\">\r\n                <Link\r\n                  to=\"/\"\r\n                  className=\"btn btn-primary waves-effect waves-light\"\r\n                >\r\n                  Back to Dashboard\r\n                </Link>\r\n\r\n                {/* <a\r\n                  class=\"btn btn-primary waves-effect waves-light\"\r\n                  href=\"index.html\"\r\n                >\r\n                  Back to Dashboard\r\n                </a> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row justify-content-center\">\r\n          <div class=\"col-md-8 col-xl-6\">\r\n            <div>\r\n              <img\r\n                src=\"/assets/images/error-img.png\"\r\n                alt=\"\"\r\n                class=\"img-fluid\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nError.propTypes = {};\r\n\r\nexport default Error;\r\n","export const ROLE_STAFF = 'CS_STAFF';\nexport const CS_STAFF = 'CS_STAFF';\nexport const SALE_STAFF = 'SALE_STAFF';\nexport const B3_MOD = 'B3_MOD';\nexport const SALE_MOD = 'SALE_MOD';\nexport const ROLE_ADMIN = 'ROLE_ADMIN';\n\nexport const USER_ROLES = [\n  ROLE_STAFF,\n  CS_STAFF,\n  SALE_STAFF,\n  B3_MOD,\n  SALE_MOD,\n  ROLE_ADMIN,\n];\n","import { atom } from 'recoil';\n\nconst authState = atom({\n  key: 'authState',\n  default: {},\n});\n\nexport default authState;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport { Route, Redirect, useHistory } from 'react-router-dom';\nimport { useRecoilValue } from 'recoil';\nimport PropTypes from 'prop-types';\n// import { Result, Button } from 'antd';\nimport Error from '../Error';\n\nimport { USER_ROLES, ROLE_STAFF } from '../../configs';\nimport authState from '../../atoms/auth';\n// import { Error } from '../../utils/notifications';\n\nconst RouterRequireAuth = ({ component: Component, role, ...rest }) => {\n  const auth = useRecoilValue(authState);\n  const history = useHistory();\n  const requiredRoleIndex = USER_ROLES.indexOf(role);\n  const currentRoleIndex = USER_ROLES.indexOf(auth.role);\n  if (requiredRoleIndex < 0 || currentRoleIndex < requiredRoleIndex) {\n    return (\n      <Error\n      // status=\"403\"\n      // title=\"403\"\n      // subTitle=\"Sorry, you are not authorized to access this page.\"\n      // extra={\n      //   <Button onClick={() => history.push('/')} type=\"primary\">\n      //     Back Home\n      //   </Button>\n      // }\n      />\n    );\n  }\n  return (\n    <Route\n      render={(props) => {\n        if (auth._id) {\n          return <Component {...props} />;\n          // Error(\n          //   'Không thể truy cập',\n          //   'Tài khoản của bạn không có quyền truy cập trang này'\n          // );\n          // logout();\n        }\n        return <Redirect to=\"/\" />;\n      }}\n      {...rest}\n    />\n  );\n};\n\nRouterRequireAuth.defaultProps = {\n  role: ROLE_STAFF,\n};\n\nRouterRequireAuth.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  role: PropTypes.string,\n};\n\nexport default RouterRequireAuth;\n","/* eslint-disable react/jsx-props-no-spreading, react/jsx-curly-newline */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useRecoilValue } from 'recoil';\nimport PropTypes from 'prop-types';\n\nimport authState from '../../atoms/auth';\n\nconst RouterRequireUnAuth = ({ component: Component, ...rest }) => {\n  const auth = useRecoilValue(authState);\n  console.log('auth', auth);\n  return (\n    <Route\n      render={(props) =>\n        auth._id ? <Redirect to=\"/users\" /> : <Component {...props} />\n      }\n      {...rest}\n    />\n  );\n};\n\nRouterRequireUnAuth.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n};\n\nexport default RouterRequireUnAuth;\n","import Cookie from 'js-cookie';\r\n\r\nconst TOKEN_COOKIE_KEY = '_tl';\r\n\r\nconst singleton = Symbol('singleton');\r\nconst singletonEnforcer = Symbol('singletonEnforcer');\r\n\r\nclass Authendication {\r\n  constructor(enforcer) {\r\n    if (enforcer !== singletonEnforcer) {\r\n      throw new Error(\r\n        'Constructor không được phép gọi trực tiếp, hãy dùng \"Authendication.instance\"'\r\n      );\r\n    }\r\n\r\n    this.token = null;\r\n  }\r\n\r\n  static get instance() {\r\n    if (!this[singleton]) {\r\n      this[singleton] = new Authendication(singletonEnforcer);\r\n    }\r\n    return this[singleton];\r\n  }\r\n\r\n  /**\r\n   * Get token\r\n   * @returns {*|null}\r\n   */\r\n  getToken() {\r\n    if (!this.token) {\r\n      const token = Cookie.get(TOKEN_COOKIE_KEY);\r\n      if (token) {\r\n        this.token = token;\r\n      }\r\n    }\r\n    return this.token;\r\n  }\r\n\r\n  /**\r\n   * Lưu token cookie\r\n   * @param token\r\n   */\r\n  saveAuthToCookie(token) {\r\n    Cookie.set(TOKEN_COOKIE_KEY, token, { expires: 90 }); // 3 tháng\r\n    this.token = token;\r\n  }\r\n\r\n  logout() {\r\n    Cookie.remove(TOKEN_COOKIE_KEY);\r\n    this.token = null;\r\n  }\r\n}\r\n\r\nexport default Authendication.instance;\r\n","import fetch from 'isomorphic-unfetch';\n\nimport Authendication from './authendication';\n\nasync function parseJSON(response) {\n  const data = await response.json();\n  if (response.status >= 400) {\n    const error = new Error(data.message);\n    throw error;\n  }\n  return data;\n}\n\nexport default function request(path, options = {}) {\n  const url = `${process.env.REACT_APP_API_ENDPOINT}${path}`;\n  return (\n    fetch(url, {\n      headers: options.headers\n        ? {\n            authorization: Authendication.getToken(),\n            ...options.headers,\n          }\n        : {\n            authorization: Authendication.getToken(),\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n          },\n      ...options,\n    })\n      // .then(checkStatus)\n      .then(parseJSON)\n  );\n}\n","import request from '../utils/request';\n\nexport const getUserInfo = async () => {\n  try {\n    const response = await request('/auth/me');\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const login = async (loginData) => {\n  try {\n    const response = await request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify(loginData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport toastr from 'toastr';\r\nimport includes from 'lodash/includes';\r\nimport { useSetRecoilState } from 'recoil';\r\n\r\nimport authState from '../../atoms/auth';\r\n\r\nimport { login } from '../../apis/auth';\r\n\r\nimport { USER_ROLES } from '../../configs';\r\nimport Authendication from '../../utils/authendication';\r\n\r\nfunction LoginPage(props) {\r\n  const setAuthState = useSetRecoilState(authState);\r\n\r\n  const [state, setState] = useState({\r\n    phone: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const response = await login({\r\n        phone: state.phone,\r\n        password: state.password,\r\n      });\r\n      if (response.data.user) {\r\n        if (!includes(USER_ROLES, response.data.user.role)) {\r\n          toastr['error'](\r\n            'Tài khoản của bạn không được phép truy cập trang này'\r\n          );\r\n          return;\r\n        }\r\n        Authendication.saveAuthToCookie(response.data.token);\r\n        setAuthState(response.data.user);\r\n      }\r\n    } catch (error) {\r\n      toastr['error'](error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"account-pages my-5 pt-sm-5\">\r\n        <div className=\"container\">\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-md-8 col-lg-6 col-xl-5\">\r\n              <div className=\"card overflow-hidden\">\r\n                <div className=\"bg-soft-primary\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-7\">\r\n                      <div className=\"text-primary p-4\">\r\n                        <h5 className=\"text-primary\">Welcome Back !</h5>\r\n                        <p>Sign in to continue to Luvin dashboard.</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-5 align-self-end\">\r\n                      <img\r\n                        src=\"https://themesbrand.com/skote/layouts/vertical/assets/images/profile-img.png\"\r\n                        alt=\"\"\r\n                        className=\"img-fluid\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card-body pt-0\">\r\n                  <div>\r\n                    <a href=\"index.html\">\r\n                      <div className=\"avatar-md profile-user-wid mb-4\">\r\n                        <span className=\"avatar-title rounded-circle bg-light\">\r\n                          <img\r\n                            src=\"/assets/images/arrows.png\"\r\n                            alt=\"\"\r\n                            className=\"rounded-circle\"\r\n                            height=\"34\"\r\n                          />\r\n                        </span>\r\n                      </div>\r\n                    </a>\r\n                  </div>\r\n                  <div className=\"p-2\">\r\n                    <form className=\"form-horizontal\" onSubmit={handleLogin}>\r\n                      <div className=\"form-group\">\r\n                        <label for=\"username\">Username</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          id=\"username\"\r\n                          placeholder=\"Enter username\"\r\n                          value={state.phone}\r\n                          onChange={(event) =>\r\n                            setState({ ...state, phone: event.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"form-group\">\r\n                        <label for=\"userpassword\">Password</label>\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          id=\"userpassword\"\r\n                          placeholder=\"Enter password\"\r\n                          value={state.password}\r\n                          onChange={(event) =>\r\n                            setState({ ...state, password: event.target.value })\r\n                          }\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"custom-control custom-checkbox\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          className=\"custom-control-input\"\r\n                          id=\"customControlInline\"\r\n                        />\r\n                        <label\r\n                          className=\"custom-control-label\"\r\n                          for=\"customControlInline\"\r\n                        >\r\n                          Remember me\r\n                        </label>\r\n                      </div>\r\n\r\n                      <div className=\"mt-3\">\r\n                        <button\r\n                          className=\"btn btn-primary btn-block waves-effect waves-light\"\r\n                          type=\"submit\"\r\n                        >\r\n                          Log In\r\n                        </button>\r\n                      </div>\r\n\r\n                      {/* <div className=\"mt-4 text-center\">\r\n                        <h5 className=\"font-size-14 mb-3\">Sign in with</h5>\r\n\r\n                        <ul className=\"list-inline\">\r\n                          <li className=\"list-inline-item\">\r\n                            <a\r\n                              href=\"javascript::void()\"\r\n                              className=\"social-list-item bg-primary text-white border-primary\"\r\n                            >\r\n                              <i className=\"mdi mdi-facebook\"></i>\r\n                            </a>\r\n                          </li>\r\n                          <li className=\"list-inline-item\">\r\n                            <a\r\n                              href=\"javascript::void()\"\r\n                              className=\"social-list-item bg-info text-white border-info\"\r\n                            >\r\n                              <i className=\"mdi mdi-twitter\"></i>\r\n                            </a>\r\n                          </li>\r\n                          <li className=\"list-inline-item\">\r\n                            <a\r\n                              href=\"javascript::void()\"\r\n                              className=\"social-list-item bg-danger text-white border-danger\"\r\n                            >\r\n                              <i className=\"mdi mdi-google\"></i>\r\n                            </a>\r\n                          </li>\r\n                        </ul>\r\n                      </div>\r\n\r\n                      <div className=\"mt-4 text-center\">\r\n                        <a href=\"auth-recoverpw.html\" className=\"text-muted\">\r\n                          <i className=\"mdi mdi-lock mr-1\"></i> Forgot your\r\n                          password?\r\n                        </a>\r\n                      </div> */}\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* <div className=\"mt-5 text-center\">\r\n                <div>\r\n                  <p>\r\n                    Don't have an account ?{' '}\r\n                    <a\r\n                      href=\"auth-register.html\"\r\n                      className=\"font-weight-medium text-primary\"\r\n                    >\r\n                      {' '}\r\n                      Signup now{' '}\r\n                    </a>{' '}\r\n                  </p>\r\n                  <p>\r\n                    © 2020 Skote. Crafted with{' '}\r\n                    <i className=\"mdi mdi-heart text-danger\"></i> by Themesbrand\r\n                  </p>\r\n                </div>\r\n              </div> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nLoginPage.propTypes = {};\r\n\r\nexport default LoginPage;\r\n","import request from '../utils/request';\r\n\r\n// eslint-disable-next-line\r\nexport const uploadSingle = async (formData) => {\r\n  try {\r\n    const response = await request('/upload/single', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data; ',\r\n      },\r\n      body: formData,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const uploadArray = async (formData) => {\r\n  try {\r\n    const response = await request('/upload/array', {\r\n      method: 'POST',\r\n      headers: {},\r\n      body: formData,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nimport { uploadArray } from '../../apis/upload';\r\n\r\nfunction Upload({ initFiles, onUploaded, maxFiles }) {\r\n  const [files, updateFile] = useState(initFiles || []);\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    maxFiles: maxFiles || 20,\r\n    accept: 'image/*',\r\n    onDrop: async (acceptedFiles) => {\r\n      try {\r\n        const formData = new FormData();\r\n        for (let index = 0; index < acceptedFiles.length; index++) {\r\n          const file = acceptedFiles[index];\r\n          formData.append('files', file);\r\n        }\r\n        const response = await uploadArray(formData);\r\n        const cleanFiles = response.data.map(\r\n          ({ path }) =>\r\n            `${process.env.REACT_APP_API_ENDPOINT.replace(\r\n              '/v1',\r\n              ''\r\n            )}/public/uploads/${path}`\r\n        );\r\n        updateFile(cleanFiles);\r\n        onUploaded(cleanFiles);\r\n      } catch (error) {}\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div {...getRootProps({ className: 'dropzone' })} id=\"categoryImage\">\r\n      <input {...getInputProps()} />\r\n      {!files.length ? (\r\n        <div class=\"dz-message needsclick\" style={{ fontSize: '14px' }}>\r\n          <div class=\"mb-3\">\r\n            <i class=\"display-4 text-muted bx bxs-cloud-upload\"></i>\r\n          </div>\r\n\r\n          <p>Drop files here or click to upload.</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {files.map((file) => (\r\n            <div\r\n              class=\"dz-preview\"\r\n              // style={{ display: 'flex', flexWrap: 'wrap', zIndex: 0 }}\r\n            >\r\n              <>\r\n                <div class=\"dz-image mr-2\">\r\n                  <img\r\n                    data-dz-thumbnail=\"\"\r\n                    alt=\"d7ea7ddfbec5bc772ef8ddb3599900c3.jpg\"\r\n                    src={file}\r\n                    style={{ height: '120px' }}\r\n                  />\r\n                </div>\r\n              </>\r\n            </div>\r\n          ))}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nUpload.propTypes = {};\r\n\r\nexport default Upload;\r\n","import React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Backdrop() {\r\n  return ReactDOM.createPortal(\r\n    <div className=\"modal-backdrop fade show\"></div>,\r\n    document.querySelector('body')\r\n  );\r\n}\r\n\r\nfunction ModalPortal({ children, visible }) {\r\n  useEffect(() => {\r\n    if (visible) {\r\n      document.body.classList.add('modal-open');\r\n    } else {\r\n      document.body.classList.remove('modal-open');\r\n    }\r\n    return () => {\r\n      document.body.classList.remove('modal-open');\r\n    };\r\n  }, [visible]);\r\n\r\n  const targetElm = document.getElementById('modal-container');\r\n  if (targetElm) {\r\n    return ReactDOM.createPortal(\r\n      children,\r\n      document.getElementById('modal-container')\r\n    );\r\n  }\r\n  return children;\r\n}\r\n\r\nfunction Modal({ children, visible }) {\r\n  return (\r\n    <ModalPortal visible={visible}>\r\n      {visible && <Backdrop />}\r\n      <div\r\n        class={`modal fade ${visible ? 'show' : ''}`}\r\n        style={{ display: visible ? 'block' : 'none' }}\r\n      >\r\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n          <div class=\"modal-content\">{children}</div>\r\n        </div>\r\n      </div>\r\n    </ModalPortal>\r\n  );\r\n}\r\n\r\nModal.propTypes = {};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ModalHeader({ children }) {\r\n  return (\r\n    <div class=\"modal-header\">\r\n      {children}\r\n      {/* <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n          Order Details\r\n        </h5>\r\n        <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nModalHeader.propTypes = {};\r\n\r\nexport default ModalHeader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ModalBody({ children }) {\r\n  return (\r\n    <div class=\"modal-body\">\r\n      {children}\r\n      {/* <p class=\"mb-2\">\r\n        Product id: <span class=\"text-primary\">#SK2540</span>\r\n      </p>\r\n      <p class=\"mb-4\">\r\n        Billing Name: <span class=\"text-primary\">Neal Matthews</span>\r\n      </p>\r\n\r\n      <div class=\"table-responsive\">\r\n        <table class=\"table table-centered table-nowrap\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Product</th>\r\n              <th scope=\"col\">Product Name</th>\r\n              <th scope=\"col\">Price</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <th scope=\"row\">\r\n                <div>\r\n                  <img\r\n                    src=\"assets/images/product/img-7.png\"\r\n                    alt=\"\"\r\n                    class=\"avatar-sm\"\r\n                  />\r\n                </div>\r\n              </th>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">\r\n                    Wireless Headphone (Black)\r\n                  </h5>\r\n                  <p class=\"text-muted mb-0\">$ 225 x 1</p>\r\n                </div>\r\n              </td>\r\n              <td>$ 255</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">\r\n                <div>\r\n                  <img\r\n                    src=\"assets/images/product/img-4.png\"\r\n                    alt=\"\"\r\n                    class=\"avatar-sm\"\r\n                  />\r\n                </div>\r\n              </th>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Hoodie (Blue)</h5>\r\n                  <p class=\"text-muted mb-0\">$ 145 x 1</p>\r\n                </div>\r\n              </td>\r\n              <td>$ 145</td>\r\n            </tr>\r\n            <tr>\r\n              <td colspan=\"2\">\r\n                <h6 class=\"m-0 text-right\">Sub Total:</h6>\r\n              </td>\r\n              <td>$ 400</td>\r\n            </tr>\r\n            <tr>\r\n              <td colspan=\"2\">\r\n                <h6 class=\"m-0 text-right\">Shipping:</h6>\r\n              </td>\r\n              <td>Free</td>\r\n            </tr>\r\n            <tr>\r\n              <td colspan=\"2\">\r\n                <h6 class=\"m-0 text-right\">Total:</h6>\r\n              </td>\r\n              <td>$ 400</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nModalBody.propTypes = {};\r\n\r\nexport default ModalBody;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ModalFooter({ children }) {\r\n  return (\r\n    <div class=\"modal-footer\">\r\n      {children}\r\n      {/* <button\r\n      type=\"button\"\r\n      class=\"btn btn-secondary\"\r\n      data-dismiss=\"modal\"\r\n    >\r\n      Close\r\n    </button> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nModalFooter.propTypes = {};\r\n\r\nexport default ModalFooter;\r\n","import request from '../utils/request';\r\n\r\nexport const getUsers = async (limit, page, name, level, role) => {\r\n  try {\r\n    const response = await request(\r\n      `/user/all?limit=${limit}&page=${page}&name=${name}&level=${level}&role=${role}`\r\n    );\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const createUser = async (userInfo) => {\r\n  try {\r\n    const response = await request('/user', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userInfo),\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateUser = async (userId, userInfo) => {\r\n  try {\r\n    const response = await request(`/user/${userId}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(userInfo),\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (userId, userInfo) => {\r\n  try {\r\n    const response = await request(`/user/${userId}`, {\r\n      method: 'DELETE',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","function clean(obj) {\r\n  for (const propName in obj) {\r\n    if (\r\n      obj[propName] === null ||\r\n      obj[propName] === undefined ||\r\n      obj[propName] === ''\r\n    ) {\r\n      delete obj[propName];\r\n    }\r\n  }\r\n}\r\n\r\nexport default clean;\r\n","import includes from 'lodash/includes';\r\n\r\nexport default (requiredRoles, currentRole) => {\r\n  return includes(requiredRoles, currentRole);\r\n};\r\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport capitalize from 'lodash/capitalize';\nimport { useRecoilState } from 'recoil';\nimport { Layout, Menu, Breadcrumb, Avatar, Popover } from 'antd';\nimport {\n  NotificationOutlined,\n  FacebookOutlined,\n  ApiOutlined,\n  UsergroupAddOutlined,\n} from '@ant-design/icons';\nimport { useHistory, Link } from 'react-router-dom';\n\nimport authState from '../../atoms/auth';\nimport { ROLE_ADMIN_FANPAGE, ROLE_ADMIN } from '../../configs';\nimport Authendication from '../../utils/authendication';\n\n// import './style.css';\n\nconst { Header, Content, Footer, Sider } = Layout;\n\nconst LayoutComponent = ({ children }) => {\n  const [auth, setAuthState] = useRecoilState(authState);\n  const [collapsed, updateCollapsed] = useState(false);\n  const history = useHistory();\n\n  const onCollapse = (_collapsed) => {\n    updateCollapsed(_collapsed);\n  };\n\n  return (\n    <div id=\"layout-wrapper\">\n      <header id=\"page-topbar\">\n        <div class=\"navbar-header\">\n          <div class=\"d-flex\">\n            {/* <!-- LOGO --> */}\n            <div class=\"navbar-brand-box\">\n              <Link class=\"logo logo-dark\" href=\"/\">\n                <span class=\"logo-sm\">\n                  <img src=\"/assets/images/logo.png\" alt=\"\" height=\"22\" />\n                </span>\n                <span class=\"logo-lg\">\n                  <img src=\"/assets/images/logo.png\" alt=\"\" height=\"17\" />\n                </span>\n              </Link>\n              <Link class=\"logo logo-light\" href=\"/\">\n                <span class=\"logo-sm\">\n                  <img src=\"/assets/images/logo.png\" alt=\"\" height=\"22\" />\n                </span>\n                <span class=\"logo-lg\">\n                  <img src=\"/assets/images/logo.png\" alt=\"\" height=\"19\" />\n                </span>\n              </Link>\n            </div>\n\n            {/* <button\n              type=\"button\"\n              class=\"btn btn-sm px-3 font-size-16 header-item waves-effect\"\n              id=\"vertical-menu-btn\"\n            >\n              <i class=\"fa fa-fw fa-bars\"></i>\n            </button> */}\n\n            {/* <!-- App Search--> */}\n            {/* <form class=\"app-search d-none d-lg-block\">\n              <div class=\"position-relative\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Search...\"\n                />\n                <span class=\"bx bx-search-alt\"></span>\n              </div>\n            </form> */}\n          </div>\n\n          <div class=\"d-flex\">\n            <div class=\"dropdown d-inline-block d-lg-none ml-2\"></div>\n\n            <div class=\"dropdown d-inline-block\">\n              <button\n                type=\"button\"\n                class=\"btn header-item waves-effect\"\n                id=\"page-header-user-dropdown\"\n                data-toggle=\"dropdown\"\n                aria-haspopup=\"true\"\n                aria-expanded=\"false\"\n              >\n                <img\n                  class=\"rounded-circle header-profile-user\"\n                  src={\n                    auth.avatar ||\n                    'https://www.seekpng.com/png/detail/115-1150053_avatar-png-transparent-png-royalty-free-default-user.png'\n                  }\n                  alt=\"Header Avatar\"\n                />\n\n                <span class=\"d-none d-xl-inline-block ml-1\" key=\"t-henry\">\n                  {auth.name}\n                </span>\n                <i class=\"mdi mdi-chevron-down d-none d-xl-inline-block\"></i>\n              </button>\n              <div class=\"dropdown-menu dropdown-menu-right\">\n                {/* <!-- item--> */}\n                {/* <a class=\"dropdown-item\" href=\"#\">\n                  <i class=\"bx bx-user font-size-16 align-middle mr-1\"></i>{' '}\n                  <span key=\"t-profile\">Profile</span>\n                </a>\n                <a class=\"dropdown-item\" href=\"#\">\n                  <i class=\"bx bx-wallet font-size-16 align-middle mr-1\"></i>{' '}\n                  <span key=\"t-my-wallet\">My Wallet</span>\n                </a>\n                <a class=\"dropdown-item d-block\" href=\"#\">\n                  <span class=\"badge badge-success float-right\">11</span>\n                  <i class=\"bx bx-wrench font-size-16 align-middle mr-1\"></i>{' '}\n                  <span key=\"t-settings\">Settings</span>\n                </a>\n                <a class=\"dropdown-item\" href=\"#\">\n                  <i class=\"bx bx-lock-open font-size-16 align-middle mr-1\"></i>{' '}\n                  <span key=\"t-lock-screen\">Lock screen</span>\n                </a> */}\n                <div class=\"dropdown-divider\"></div>\n                <a\n                  class=\"dropdown-item text-danger\"\n                  onClick={() => {\n                    Authendication.logout();\n                    setAuthState({});\n                    history.push('/');\n                  }}\n                >\n                  <i class=\"bx bx-power-off font-size-16 align-middle mr-1 text-danger\"></i>{' '}\n                  <span key=\"t-logout\">Logout</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* <!-- ========== Left Sidebar Start ========== --> */}\n      <div class=\"vertical-menu\">\n        <div data-simplebar class=\"h-100\">\n          {/* <!--- Sidemenu --> */}\n          <div id=\"sidebar-menu\">\n            {/* <!-- Left Menu Start --> */}\n            <ul class=\"metismenu list-unstyled\" id=\"side-menu\">\n              <li class=\"menu-title\" key=\"t-menu\">\n                Menu\n              </li>\n              <li>\n                <a\n                  onClick={() => history.push('/users')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bxs-user-detail\"></i>\n                  <span key=\"t-contacts\">Thành viên</span>\n                </a>\n              </li>\n              <li>\n                <a\n                  onClick={() => history.push('/vouchers')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-gift\"></i>\n                  <span key=\"t-contacts\">Voucher</span>\n                </a>\n              </li>\n              <li>\n                <a\n                  onClick={() => history.push('/products')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-store\"></i>\n                  <span key=\"t-projects\">Sản phẩm</span>\n                </a>\n              </li>\n\n              <li>\n                <a\n                  onClick={() => history.push('/orders')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-task\"></i>\n                  <span key=\"t-tasks\">Đơn hàng</span>\n                </a>\n              </li>\n\n              <li>\n                <a\n                  onClick={() => history.push('/categories')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-list-ol\"></i>\n                  <span key=\"t-contacts\">Chuyên mục sản phẩm</span>\n                </a>\n              </li>\n\n              <li>\n                <a\n                  onClick={() => history.push('/posts')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-news\"></i>\n                  <span key=\"t-contacts\">Bài viết</span>\n                </a>\n              </li>\n              <li>\n                <a\n                  onClick={() => history.push('/feedbacks')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-message-rounded\"></i>\n                  <span key=\"t-contacts\">Phản hồi</span>\n                </a>\n              </li>\n              <li>\n                <a\n                  onClick={() => history.push('/pages')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-detail\"></i>\n                  <span key=\"t-contacts\">Trang</span>\n                </a>\n              </li>\n              <li>\n                <a\n                  onClick={() => history.push('/tasty')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bxs-hourglass-bottom\"></i>\n                  <span key=\"t-contacts\">Tasty</span>\n                </a>\n              </li>\n              <li>\n                <a\n                  onClick={() => history.push('/about-us')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bxs-hourglass-bottom\"></i>\n                  <span key=\"t-contacts\">About Us</span>\n                </a>\n              </li>\n\n              <li>\n                <a\n                  onClick={() => history.push('/settings')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-cog\"></i>\n                  <span key=\"t-contacts\">Trang chủ</span>\n                </a>\n              </li>\n              <li>\n                <a\n                  onClick={() => history.push('/pos')}\n                  class=\"waves-effect\"\n                  aria-expanded=\"false\"\n                >\n                  <i class=\"bx bx-wifi\"></i>\n                  <span key=\"t-contacts\">POS</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n          {/* <!-- Sidebar --> */}\n        </div>\n      </div>\n      {/* <!-- Left Sidebar End --> */}\n\n      {/* <!-- ============================================================== --> */}\n      {/* <!-- Start right Content here --> */}\n      {/* <!-- ============================================================== --> */}\n      <div class=\"main-content\">\n        {children}\n        <div id=\"modal-container\"></div>\n        <footer class=\"footer\" style={{ position: 'unset' }}>\n          <div class=\"container-fluid\">\n            <div class=\"row\">\n              <div class=\"col-sm-6\">2020 © eComviet.</div>\n              <div class=\"col-sm-6\">\n                <div class=\"text-sm-right d-none d-sm-block\">\n                  Design & Develop by eComviet\n                </div>\n              </div>\n            </div>\n          </div>\n        </footer>\n      </div>\n      {/* {<!-- end main content-->} */}\n    </div>\n  );\n};\n\nLayoutComponent.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default LayoutComponent;\n","import React from 'react';\n\nimport Layout from '../components/Layout';\n\nconst withLayout = (Component) => {\n  const ComposedComponent = ({ chidren }) => {\n    return (\n      <Layout>\n        <Component />\n      </Layout>\n    );\n  };\n  return ComposedComponent;\n};\n\nexport default withLayout;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport pickBy from 'lodash/pickBy';\nimport identity from 'lodash/identity';\nimport toastr from 'toastr';\nimport ReactPaginate from 'react-paginate';\nimport DatePicker from 'react-datepicker';\nimport { useRecoilValue } from 'recoil';\n\nimport Upload from '../../components/Upload';\nimport Modal from '../../components/Modal';\nimport ModalHeader from '../../components/Modal/ModalHeader';\nimport ModalBody from '../../components/Modal/ModalBody';\nimport ModalFooter from '../../components/Modal/ModalFooter';\n\nimport { getUsers, createUser, updateUser, deleteUser } from '../../apis/users';\nimport cleanObj from '../../utils/cleanObj';\nimport withRole from '../../utils/withRole';\n\nimport { ROLE_ADMIN, SALE_MOD } from '../../configs';\n\nimport withLayout from '../../hocs/withLayout';\n\nimport authState from '../../atoms/auth';\n\nconst LIMIT = 20;\n\nfunction ModalUpdateUser({ visible, onClose, user, onUpdated, isCreate }) {\n  const [state, setState] = useState({\n    name: user.name || '',\n    email: user.email || '',\n    phone: user.phone || '',\n    password: '',\n    birthday: user.birthday ? new Date(user.birthday) : '',\n    address: user.address || '',\n    point: user.point || 0,\n    level: user.level || '',\n    role: user.role || '',\n    avatar: user.avatar || '',\n\n    loading: false,\n  });\n\n  const handleChangeUserInfo = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    setState({ ...state, loading: true });\n    try {\n      event.preventDefault();\n      const userInfo = {\n        name: state.name,\n        email: state.email,\n        phone: state.phone,\n        password: state.password,\n        birthday: state.birthday,\n        address: state.address,\n        point: state.point,\n        level: state.level,\n        role: state.role,\n        avatar: state.avatar,\n      };\n      cleanObj(userInfo);\n      let response = {};\n      if (isCreate) {\n        response = await createUser(userInfo);\n        toastr['success']('Create user success');\n      } else {\n        response = await updateUser(user._id, userInfo);\n        toastr['success']('Update user info success');\n      }\n\n      onUpdated(response.data);\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n    setState({ ...state, loading: false });\n  };\n\n  return (\n    <Modal visible={visible}>\n      <ModalHeader>\n        <h5 class=\"modal-title\">{isCreate ? 'Create user' : 'Update user'}</h5>\n        <button\n          type=\"button\"\n          class=\"close\"\n          data-dismiss=\"modal\"\n          aria-label=\"Close\"\n          onClick={onClose}\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </ModalHeader>\n      <form onSubmit={handleSubmit}>\n        <ModalBody>\n          <div class=\"form-group row mb-4\">\n            <label for=\"userName\" class=\"col-sm-3 col-form-label\">\n              Name\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"userName\"\n                value={state.name}\n                onChange={(event) =>\n                  handleChangeUserInfo('name', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"userEmail\" class=\"col-sm-3 col-form-label\">\n              Email\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                id=\"userEmail\"\n                value={state.email}\n                onChange={(event) =>\n                  handleChangeUserInfo('email', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"userPhone\" class=\"col-sm-3 col-form-label\">\n              Phone\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"tel\"\n                class=\"form-control\"\n                id=\"userPhone\"\n                value={state.phone}\n                onChange={(event) =>\n                  handleChangeUserInfo('phone', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"userPassword\" class=\"col-sm-3 col-form-label\">\n              Password\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                id=\"userPassword\"\n                value={state.password}\n                onChange={(event) =>\n                  handleChangeUserInfo('password', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"userBirday\" class=\"col-sm-3 col-form-label\">\n              Birthday\n            </label>\n            <div class=\"col-sm-9\">\n              <DatePicker\n                dateFormat=\"dd/MM/yyyy\"\n                className=\"form-control\"\n                selected={state.birthday}\n                onChange={(date) => {\n                  handleChangeUserInfo('birthday', date);\n                }}\n              />\n              {/* <input\n                class=\"form-control\"\n                type=\"date\"\n                id=\"userBirday\"\n                value={state.birthday}\n                onChange={(event) =>\n                  handleChangeUserInfo('birthday', event.target.value)\n                }\n              /> */}\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"userAddress\" class=\"col-sm-3 col-form-label\">\n              Address\n            </label>\n            <div class=\"col-sm-9\">\n              <textarea\n                required=\"\"\n                class=\"form-control\"\n                rows=\"2\"\n                id=\"userAddress\"\n                value={state.address}\n                onChange={(event) =>\n                  handleChangeUserInfo('address', event.target.value)\n                }\n              ></textarea>\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"userPoint\" class=\"col-sm-3 col-form-label\">\n              Point\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"number\"\n                class=\"form-control\"\n                id=\"userPoint\"\n                value={state.point}\n                onChange={(event) =>\n                  handleChangeUserInfo('point', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"userPoint\" class=\"col-sm-3 col-form-label\">\n              Level\n            </label>\n            <div class=\"col-sm-9\">\n              <select\n                class=\"form-control\"\n                id=\"level-select\"\n                value={state.level}\n                onChange={(event) =>\n                  handleChangeUserInfo('level', event.target.value)\n                }\n              >\n                <option value=\"\">Bzone</option>\n                <option value=\"LEVEL_GOLD\">Gold</option>\n                <option value=\"LEVEL_SILVER\">Silver</option>\n                <option value=\"LEVEL_PLATINUM\">Platinum</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"productDiscount\" class=\"col-sm-3 col-form-label\">\n              Role\n            </label>\n            <div class=\"col-sm-9\">\n              <select\n                class=\"form-control\"\n                id=\"role-select\"\n                value={state.role}\n                onChange={(event) =>\n                  handleChangeUserInfo('role', event.target.value)\n                }\n              >\n                <option value=\"\">Thành viên</option>\n                <option value=\"CS_STAFF\">CS Staff</option>\n                <option value=\"SALE_STAFF\">Sale Staff</option>\n                <option value=\"B3_MOD\">B3 MOD</option>\n                <option value=\"SALE_MOD\">Sale MOD</option>\n                <option value=\"ROLE_ADMIN\">Admin</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"categoryImage\" class=\"col-sm-3 col-form-label\">\n              Avatar\n            </label>\n            <div class=\"col-sm-9\">\n              <Upload\n                initFiles={[state.avatar]}\n                onUploaded={(files) => {\n                  handleChangeUserInfo('avatar', files[0]);\n                }}\n                maxFiles={1}\n              />\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\n            Close\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary w-md\">\n            {state.loading && (\n              <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\n            )}\n            Submit\n          </button>\n        </ModalFooter>\n      </form>\n    </Modal>\n  );\n}\n\nfunction UsersPage(props) {\n  const auth = useRecoilValue(authState);\n  const [state, setState] = useState({\n    openModalCreate: false,\n    openModalUpdate: false,\n    userSelected: {},\n    users: [],\n    total: 0,\n    page: 1,\n    name: '',\n    level: '',\n    role: '',\n    loading: false,\n  });\n\n  const handleChangeSearchValue = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleSearchUsers = async (page, name, level, role) => {\n    setState({\n      ...state,\n      loading: true,\n      page,\n    });\n    const newState = {\n      ...state,\n      loading: true,\n      page,\n    };\n    try {\n      const response = await getUsers(LIMIT, page, name, level, role);\n      newState.users = response.data.users;\n      newState.total = response.data.total;\n      newState.loading = false;\n    } catch (error) {\n      newState.loading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  useEffect(() => {\n    handleSearchUsers(1, state.name, state.level, state.role);\n  }, []);\n\n  const handleDeleteUser = async (userId) => {\n    const newState = {\n      ...state,\n      loading: true,\n    };\n    try {\n      const response = await deleteUser(userId);\n      newState.loading = false;\n      newState.users = state.users.filter(({ _id }) => _id !== userId);\n    } catch (error) {\n      newState.loading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  return (\n    <>\n      {(state.openModalUpdate || state.openModalCreate) && (\n        <ModalUpdateUser\n          isCreate={state.openModalCreate}\n          visible={state.openModalUpdate || state.openModalCreate}\n          user={state.userSelected}\n          onClose={() => {\n            setState({\n              ...state,\n              openModalUpdate: false,\n              openModalCreate: false,\n              userSelected: {},\n            });\n          }}\n          onUpdated={(user) => {\n            if (state.openModalCreate) {\n              setState({\n                ...state,\n                openModalCreate: false,\n                users:\n                  state.users.length === LIMIT\n                    ? [user, ...state.users].slice(0, -1)\n                    : [user, ...state.users],\n              });\n            } else {\n              setState({\n                ...state,\n                openModalUpdate: false,\n                userSelected: {},\n                users: state.users.map((_user) => {\n                  if (_user._id === user._id) {\n                    return user;\n                  }\n                  return _user;\n                }),\n              });\n            }\n          }}\n        />\n      )}\n      <div className=\"page-content\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <div className=\"page-title-box d-flex align-items-center justify-content-between\">\n                <h4 className=\"mb-0 font-size-18\">Users List</h4>\n\n                <div className=\"page-title-right\">\n                  {withRole([ROLE_ADMIN], auth.role) && (\n                    <button\n                      type=\"submit\"\n                      class=\"btn btn-primary w-md\"\n                      onClick={() => {\n                        setState({\n                          ...state,\n                          openModalCreate: true,\n                        });\n                      }}\n                    >\n                      Thêm thành viên\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-lg-3\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <h4 class=\"card-title mb-4\">Filter</h4>\n                  <form\n                    onSubmit={(event) => {\n                      event.preventDefault();\n                      handleSearchUsers(1, state.name, state.level, state.role);\n                    }}\n                  >\n                    <div class=\"form-group\">\n                      <label for=\"level-select\">Hạng</label>\n                      <select\n                        class=\"form-control\"\n                        id=\"level-select\"\n                        value={state.level}\n                        onChange={(event) =>\n                          handleChangeSearchValue('level', event.target.value)\n                        }\n                      >\n                        <option value=\"\">Tất cả</option>\n                        <option value=\"LEVEL_PLATINUM\">Platinum</option>\n                        <option value=\"LEVEL_SILVER\">Silver</option>\n                        <option value=\"LEVEL_GOLD\">Gold</option>\n                        <option value=\"LEVEL_BZONZE\">Bzone</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"role-select\">Loại</label>\n                      <select\n                        class=\"form-control\"\n                        id=\"role-select\"\n                        value={state.role}\n                        onChange={(event) =>\n                          handleChangeSearchValue('role', event.target.value)\n                        }\n                      >\n                        <option value=\"\">Tất cả</option>\n                        {/* <option value=\"ROLE_ADMIN\">Admin</option>\n                        <option value=\"ROLE_STAFF\">Staff</option>\n                        <option value=\"ROLE_MEMBER\">Thành viên</option> */}\n                        <option value=\"CS_STAFF\">CS Staff</option>\n                        <option value=\"SALE_STAFF\">Sale Staff</option>\n                        <option value=\"B3_MOD\">B3 MOD</option>\n                        <option value=\"SALE_MOD\">Sale MOD</option>\n                        <option value=\"ROLE_ADMIN\">Admin</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"name-select\">Tên</label>\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        id=\"name-select\"\n                        value={state.name}\n                        onChange={(event) =>\n                          handleChangeSearchValue('name', event.target.value)\n                        }\n                      />\n                    </div>\n                    <button type=\"submit\" class=\"btn btn-primary\">\n                      Tìm kiếm\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-9\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-centered table-nowrap table-hover\">\n                      <thead className=\"thead-light\">\n                        <tr>\n                          <th scope=\"col\" style={{ width: '70px' }}>\n                            #\n                          </th>\n                          <th scope=\"col\">Name</th>\n                          <th scope=\"col\">Phone</th>\n                          <th scope=\"col\">Email</th>\n                          <th scope=\"col\">Point</th>\n                          <th scope=\"col\">Level</th>\n                          <th>Action</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {state.users.map((user, index) => {\n                          return (\n                            <tr key={user._id}>\n                              <td>\n                                {user.avatar ? (\n                                  <img\n                                    class=\"rounded-circle avatar-xs\"\n                                    src={user.avatar}\n                                    alt=\"\"\n                                  ></img>\n                                ) : (\n                                  <div className=\"avatar-xs\">\n                                    <span className=\"avatar-title rounded-circle\">\n                                      {(user.name || '')\n                                        .charAt(0)\n                                        .toUpperCase()}\n                                    </span>\n                                  </div>\n                                )}\n                              </td>\n                              <td>\n                                <h5 className=\"font-size-14 mb-1\">\n                                  <a className=\"text-dark\">{user.name}</a>\n                                </h5>\n                                <p className=\"text-muted mb-0\">\n                                  {user.address}\n                                </p>\n                              </td>\n                              <td>{user.phone}</td>\n                              <td>{user.email}</td>\n                              <td>{user.point}</td>\n                              <td>\n                                <div>\n                                  <a className=\"badge badge-soft-primary font-size-11 m-1\">\n                                    {user.level}\n                                  </a>\n                                </div>\n                              </td>\n                              <td>\n                                <div class=\"dropdown\">\n                                  <a\n                                    class=\"dropdown-toggle card-drop\"\n                                    data-toggle=\"dropdown\"\n                                    aria-expanded=\"false\"\n                                  >\n                                    <i class=\"mdi mdi-dots-horizontal font-size-18\"></i>\n                                  </a>\n                                  <ul className=\"dropdown-menu dropdown-menu-right\">\n                                    {withRole(\n                                      [ROLE_ADMIN, SALE_MOD],\n                                      auth.role\n                                    ) && (\n                                      <>\n                                        <li>\n                                          <a\n                                            onClick={() => {\n                                              setState({\n                                                ...state,\n                                                openModalUpdate: true,\n                                                userSelected: user,\n                                              });\n                                            }}\n                                            class=\"dropdown-item\"\n                                          >\n                                            <i class=\"mdi mdi-pencil font-size-16 text-success mr-1\"></i>{' '}\n                                            Edit\n                                          </a>\n                                        </li>\n                                        <li>\n                                          <a\n                                            onClick={() =>\n                                              handleDeleteUser(user._id)\n                                            }\n                                            class=\"dropdown-item\"\n                                          >\n                                            <i class=\"mdi mdi-trash-can font-size-16 text-danger mr-1\"></i>{' '}\n                                            Delete\n                                          </a>\n                                        </li>\n                                      </>\n                                    )}\n                                  </ul>\n                                </div>\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-lg-12\">\n                      <ReactPaginate\n                        previousLabel={<i class=\"mdi mdi-chevron-left\"></i>}\n                        nextLabel={<i class=\"mdi mdi-chevron-right\"></i>}\n                        forcePage={state.page - 1}\n                        breakLabel={'...'}\n                        breakClassName={'break-me'}\n                        pageCount={Math.ceil(state.total / LIMIT)}\n                        marginPagesDisplayed={2}\n                        pageRangeDisplayed={2}\n                        onPageChange={(page) => {\n                          handleSearchUsers(\n                            page.selected + 1,\n                            state.name,\n                            state.level,\n                            state.role\n                          );\n                        }}\n                        containerClassName=\"pagination pagination-rounded justify-content-center mt-4\"\n                        pageClassName=\"page-item\"\n                        previousClassName=\"page-item\"\n                        nextClassName=\"page-item\"\n                        activeClassName=\"active\"\n                        pageLinkClassName=\"page-link\"\n                        previousLinkClassName=\"page-link\"\n                        nextLinkClassName=\"page-link\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nUsersPage.propTypes = {};\n\nexport default withLayout(UsersPage);\n","import { atom } from 'recoil';\n\nconst categoriesState = atom({\n  key: 'categoriesState',\n  default: [],\n});\n\nexport default categoriesState;\n","import request from '../utils/request';\r\n\r\nexport const getCategories = async () => {\r\n  try {\r\n    const response = await request('/category/all');\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateCategory = async (categoryIdent, categoryData) => {\r\n  try {\r\n    const response = await request(`/category/${categoryIdent}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(categoryData),\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import { useEffect } from 'react';\nimport { useRecoilState } from 'recoil';\nimport toastr from 'toastr';\n\nimport categoriesState from '../atoms/categories';\nimport { getCategories } from '../apis/categories';\n\nconst useCategories = () => {\n  const [categories, setCategoriesState] = useRecoilState(categoriesState);\n\n  const handleGetCategories = async () => {\n    try {\n      const response = await getCategories();\n      setCategoriesState(response.data);\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n  };\n\n  useEffect(() => {\n    if (!categories.length) handleGetCategories();\n  }, []);\n\n  return [categories, setCategoriesState];\n};\n\nexport default useCategories;\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport toastr from 'toastr';\r\nimport { useRecoilValue } from 'recoil';\r\n\r\nimport Upload from '../../components/Upload';\r\nimport Modal from '../../components/Modal';\r\nimport ModalHeader from '../../components/Modal/ModalHeader';\r\nimport ModalBody from '../../components/Modal/ModalBody';\r\nimport ModalFooter from '../../components/Modal/ModalFooter';\r\n\r\nimport useCategories from '../../hooks/useCategories';\r\n\r\nimport { updateCategory } from '../../apis/categories';\r\n\r\nimport withLayout from '../../hocs/withLayout';\r\n\r\nimport withRole from '../../utils/withRole';\r\n\r\nimport { ROLE_ADMIN, SALE_MOD, B3_MOD } from '../../configs';\r\nimport authState from '../../atoms/auth';\r\n\r\nfunction ModalDetailCategory({ visible, onClose, category }) {\r\n  return (\r\n    <Modal visible={visible}>\r\n      <ModalHeader>\r\n        <h5 class=\"modal-title\">Category Details</h5>\r\n        <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n          onClick={onClose}\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </ModalHeader>\r\n      <ModalBody>\r\n        <table class=\"table table-centered table-nowrap\">\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">ID</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{category._id}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Ident</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{category.ident}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Name</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{category.name}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Description</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{category.description}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Slug</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{category.slug}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Image</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">\r\n                <div>\r\n                  <img\r\n                    class=\"img-thumbnail\"\r\n                    alt=\"200x200\"\r\n                    width=\"200\"\r\n                    src={category.image}\r\n                    data-holder-rendered=\"true\"\r\n                  ></img>\r\n                </div>\r\n              </th>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\r\n          Close\r\n        </button>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction ModalUpdateCategory({ visible, onClose, category, onUpdated }) {\r\n  const auth = useRecoilValue(authState);\r\n  const [state, setState] = useState({\r\n    name: category.name || '',\r\n    description: category.description || '',\r\n    image: category.image || '',\r\n    loading: false,\r\n  });\r\n\r\n  const handleChangeCategoryInfo = (prop, value) => {\r\n    setState({\r\n      ...state,\r\n      [prop]: value,\r\n    });\r\n  };\r\n\r\n  const handleUpdateCategory = async (event) => {\r\n    setState({ ...state, loading: true });\r\n    try {\r\n      event.preventDefault();\r\n\r\n      const response = await updateCategory(category.ident, {\r\n        name: state.name,\r\n        description: state.description,\r\n        image: state.image,\r\n      });\r\n      onUpdated(response.data);\r\n    } catch (error) {\r\n      toastr['error'](error.message);\r\n    }\r\n    setState({ ...state, loading: false });\r\n  };\r\n\r\n  return (\r\n    <Modal visible={visible}>\r\n      <ModalHeader>\r\n        <h5 class=\"modal-title\">Update category</h5>\r\n        <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n          onClick={onClose}\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </ModalHeader>\r\n      <form onSubmit={handleUpdateCategory}>\r\n        <ModalBody>\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"categoryName\" class=\"col-sm-3 col-form-label\">\r\n              Name\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"categoryName\"\r\n                value={state.name}\r\n                onChange={(event) =>\r\n                  handleChangeCategoryInfo('name', event.target.value)\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"categoryDescription\" class=\"col-sm-3 col-form-label\">\r\n              Description\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <textarea\r\n                required=\"\"\r\n                class=\"form-control\"\r\n                rows=\"3\"\r\n                id=\"categoryDescription\"\r\n                value={state.description}\r\n                onChange={(event) =>\r\n                  handleChangeCategoryInfo('description', event.target.value)\r\n                }\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"categoryImage\" class=\"col-sm-3 col-form-label\">\r\n              Image\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <Upload\r\n                initFiles={[state.image]}\r\n                onUploaded={(files) => {\r\n                  handleChangeCategoryInfo('image', files[0]);\r\n                }}\r\n                maxFiles={1}\r\n              />\r\n            </div>\r\n          </div>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\r\n            Close\r\n          </button>\r\n          <button type=\"submit\" class=\"btn btn-primary w-md\">\r\n            {state.loading && (\r\n              <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\r\n            )}\r\n            Submit\r\n          </button>\r\n        </ModalFooter>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction CategoriesPage(props) {\r\n  const auth = useRecoilValue(authState);\r\n  const [categories, setCategoriesState] = useCategories();\r\n  const [state, setState] = useState({\r\n    openModalDetail: false,\r\n    openModalUpdate: false,\r\n    categorySelected: {},\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {state.openModalDetail && (\r\n        <ModalDetailCategory\r\n          visible={state.openModalDetail}\r\n          category={state.categorySelected}\r\n          onClose={() => {\r\n            setState({\r\n              ...state,\r\n              openModalDetail: false,\r\n              categorySelected: {},\r\n            });\r\n          }}\r\n        />\r\n      )}\r\n      {state.openModalUpdate && (\r\n        <ModalUpdateCategory\r\n          visible={state.openModalUpdate}\r\n          category={state.categorySelected}\r\n          onClose={() => {\r\n            setState({\r\n              ...state,\r\n              openModalUpdate: false,\r\n              categorySelected: {},\r\n            });\r\n          }}\r\n          onUpdated={(category) => {\r\n            setCategoriesState(\r\n              categories.map((_category) => {\r\n                if (_category.ident === category.ident) {\r\n                  return category;\r\n                }\r\n                return _category;\r\n              })\r\n            );\r\n            setState({\r\n              ...state,\r\n              openModalUpdate: false,\r\n              categorySelected: {},\r\n            });\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"container-fluid\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"page-title-box d-flex align-items-center justify-content-between\">\r\n                <h4 class=\"mb-0 font-size-18\">Categories List</h4>\r\n\r\n                {/* <div class=\"page-title-right\">\r\n                  <ol class=\"breadcrumb m-0\">\r\n                    <li class=\"breadcrumb-item\">\r\n                      <a href=\"javascript: void(0);\">Projects</a>\r\n                    </li>\r\n                    <li class=\"breadcrumb-item active\">Projects List</li>\r\n                  </ol>\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-12\">\r\n              <div class=\"\">\r\n                <div class=\"table-responsive\">\r\n                  <table class=\"table project-list-table table-nowrap table-centered table-borderless\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th scope=\"col\" style={{ width: '100px' }}>\r\n                          #\r\n                        </th>\r\n                        <th>Name</th>\r\n                        <th>Slug</th>\r\n                        <th>Ident</th>\r\n                        <th>View Details</th>\r\n                        <th>Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {categories.map((category, index) => {\r\n                        return (\r\n                          <tr>\r\n                            <td>\r\n                              <img\r\n                                src={category.image}\r\n                                alt=\"\"\r\n                                class=\"avatar-sm\"\r\n                              />\r\n                            </td>\r\n                            <td>\r\n                              <h5 class=\"text-truncate font-size-14\">\r\n                                <a href=\"#\" class=\"text-dark\">\r\n                                  {category.name}\r\n                                </a>\r\n                              </h5>\r\n                              <p class=\"text-muted mb-0\">\r\n                                {category.description}\r\n                              </p>\r\n                            </td>\r\n                            <td>{category.slug}</td>\r\n                            <td>{category.ident}</td>\r\n                            <td>\r\n                              <button\r\n                                type=\"button\"\r\n                                class=\"btn btn-primary btn-sm btn-rounded\"\r\n                                onClick={() => {\r\n                                  setState({\r\n                                    ...state,\r\n                                    openModalDetail: true,\r\n                                    categorySelected: category,\r\n                                  });\r\n                                }}\r\n                              >\r\n                                View Details\r\n                              </button>\r\n                            </td>\r\n                            <td>\r\n                              <div class=\"dropdown\">\r\n                                <a\r\n                                  href=\"#\"\r\n                                  class=\"dropdown-toggle card-drop\"\r\n                                  data-toggle=\"dropdown\"\r\n                                  aria-expanded=\"false\"\r\n                                >\r\n                                  <i class=\"mdi mdi-dots-horizontal font-size-18\"></i>\r\n                                </a>\r\n                                <ul class=\"dropdown-menu dropdown-menu-right\">\r\n                                  {withRole(\r\n                                    [ROLE_ADMIN, SALE_MOD, B3_MOD],\r\n                                    auth.role\r\n                                  ) && (\r\n                                    <li>\r\n                                      <a\r\n                                        onClick={() => {\r\n                                          setState({\r\n                                            ...state,\r\n                                            openModalUpdate: true,\r\n                                            categorySelected: category,\r\n                                          });\r\n                                        }}\r\n                                        class=\"dropdown-item\"\r\n                                      >\r\n                                        <i class=\"mdi mdi-pencil font-size-16 text-success mr-1\"></i>{' '}\r\n                                        Edit\r\n                                      </a>\r\n                                    </li>\r\n                                  )}\r\n                                  {/* <li>\r\n                                    <a href=\"#\" class=\"dropdown-item\">\r\n                                      <i class=\"mdi mdi-trash-can font-size-16 text-danger mr-1\"></i>{' '}\r\n                                      Delete\r\n                                    </a>\r\n                                  </li> */}\r\n                                </ul>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <div class=\"text-center my-3\">\r\n                                    <a href=\"javascript:void(0);\" class=\"text-success\"><i class=\"bx bx-loader bx-spin font-size-18 align-middle mr-2\"></i> Load more </a>\r\n                                </div>\r\n                            </div>\r\n                        </div> */}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nCategoriesPage.propTypes = {};\r\n\r\nexport default withLayout(CategoriesPage);\r\n","import request from '../utils/request';\r\n\r\nexport const findProducts = async (\r\n  limit,\r\n  page,\r\n  name,\r\n  category,\r\n  discount,\r\n  origin,\r\n  type\r\n) => {\r\n  try {\r\n    const response = await request(\r\n      `/product?limit=${limit}&page=${page}&name=${name}&category=${category}&discount=${discount}&origin=${origin}&type=${type}`\r\n    );\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (productIdent, productData) => {\r\n  try {\r\n    const response = await request(`/product/${productIdent}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(productData),\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (productIdent, productData) => {\r\n  try {\r\n    const response = await request(`/product/${productIdent}`, {\r\n      method: 'DELETE',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const syncProducts = async () => {\r\n  try {\r\n    const response = await request('/product/sync-with-luvin');\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport toastr from 'toastr';\nimport ReactPaginate from 'react-paginate';\nimport numeral from 'numeral';\nimport { useRecoilValue } from 'recoil';\n\nimport Upload from '../../components/Upload';\nimport Modal from '../../components/Modal';\nimport ModalHeader from '../../components/Modal/ModalHeader';\nimport ModalBody from '../../components/Modal/ModalBody';\nimport ModalFooter from '../../components/Modal/ModalFooter';\n\nimport useCategories from '../../hooks/useCategories';\n\nimport {\n  updateProduct,\n  syncProducts,\n  findProducts,\n  deleteProduct,\n} from '../../apis/products';\n\nimport withLayout from '../../hocs/withLayout';\n\nimport withRole from '../../utils/withRole';\n\nimport { ROLE_ADMIN, SALE_MOD, B3_MOD, SALE_STAFF } from '../../configs';\n\nimport authState from '../../atoms/auth';\n\nconst LIMIT = 20;\n\nfunction ModalDetailProduct({ visible, onClose, product }) {\n  return (\n    <Modal visible={visible}>\n      <ModalHeader>\n        <h5 class=\"modal-title\">Product Details</h5>\n        <button\n          type=\"button\"\n          class=\"close\"\n          data-dismiss=\"modal\"\n          aria-label=\"Close\"\n          onClick={onClose}\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </ModalHeader>\n      <ModalBody>\n        <table class=\"table table-centered table-nowrap\">\n          <tbody>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">ID</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{product._id}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Ident</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{product.ident}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Name</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{product.name}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Price</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{product.price}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Discount</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{product.discount}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Description</h5>\n                </div>\n              </td>\n              <th scope=\"row\" style={{ whiteSpace: 'unset' }}>\n                {product.description}\n              </th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Slug</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{product.slug}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Image</h5>\n                </div>\n              </td>\n              <th scope=\"row\">\n                <div className=\"d-flex flex-wrap\">\n                  {product.images.map((image) => (\n                    <img\n                      class=\"img-thumbnail\"\n                      alt=\"200x200\"\n                      width=\"200\"\n                      src={image}\n                      data-holder-rendered=\"true\"\n                    />\n                  ))}\n                </div>\n              </th>\n            </tr>\n          </tbody>\n        </table>\n      </ModalBody>\n      <ModalFooter>\n        <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\n          Close\n        </button>\n      </ModalFooter>\n    </Modal>\n  );\n}\n\nfunction ModalUpdateProduct({ visible, onClose, product, onUpdated }) {\n  const auth = useRecoilValue(authState);\n  const [state, setState] = useState({\n    name: product.name || '',\n    description: product.description || '',\n    images: product.images || [],\n    price: product.price || 0,\n    discount: product.discount || 0,\n    loading: false,\n  });\n\n  const handleChangeProductInfo = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleUpdateProduct = async (event) => {\n    setState({ ...state, loading: true });\n    try {\n      event.preventDefault();\n\n      const response = await updateProduct(product.ident, {\n        name: state.name,\n        description: state.description,\n        images: state.images,\n        price: state.price,\n        discount: state.discount,\n      });\n      onUpdated(response.data);\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n    setState({ ...state, loading: false });\n  };\n\n  return (\n    <Modal visible={visible}>\n      <ModalHeader>\n        <h5 class=\"modal-title\">Update product</h5>\n        <button\n          type=\"button\"\n          class=\"close\"\n          data-dismiss=\"modal\"\n          aria-label=\"Close\"\n          onClick={onClose}\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </ModalHeader>\n      <form onSubmit={handleUpdateProduct}>\n        <ModalBody>\n          <div class=\"form-group row mb-4\">\n            <label for=\"categoryName\" class=\"col-sm-3 col-form-label\">\n              Name\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"categoryName\"\n                value={state.name}\n                onChange={(event) =>\n                  handleChangeProductInfo('name', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"categoryDescription\" class=\"col-sm-3 col-form-label\">\n              Description\n            </label>\n            <div class=\"col-sm-9\">\n              <textarea\n                required=\"\"\n                class=\"form-control\"\n                rows=\"3\"\n                id=\"categoryDescription\"\n                value={state.description}\n                onChange={(event) =>\n                  handleChangeProductInfo('description', event.target.value)\n                }\n              ></textarea>\n            </div>\n          </div>\n          {withRole([ROLE_ADMIN], auth.role) && (\n            <>\n              <div class=\"form-group row mb-4\">\n                <label for=\"productPrice\" class=\"col-sm-3 col-form-label\">\n                  Price\n                </label>\n                <div class=\"col-sm-9\">\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"productPrice\"\n                    value={state.price}\n                    onChange={(event) =>\n                      handleChangeProductInfo('price', event.target.value)\n                    }\n                  />\n                </div>\n              </div>\n              <div class=\"form-group row mb-4\">\n                <label for=\"productDiscount\" class=\"col-sm-3 col-form-label\">\n                  Discount\n                </label>\n                <div class=\"col-sm-9\">\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"productDiscount\"\n                    value={state.discount}\n                    onChange={(event) =>\n                      handleChangeProductInfo('discount', event.target.value)\n                    }\n                  />\n                </div>\n              </div>\n            </>\n          )}\n          <div class=\"form-group row mb-4\">\n            <label for=\"categoryImage\" class=\"col-sm-3 col-form-label\">\n              Image\n            </label>\n            <div class=\"col-sm-9\">\n              <Upload\n                initFiles={state.images}\n                onUploaded={(files) => {\n                  handleChangeProductInfo('images', files);\n                }}\n              />\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\n            Close\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary w-md\">\n            {state.loading && (\n              <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\n            )}\n            Submit\n          </button>\n        </ModalFooter>\n      </form>\n    </Modal>\n  );\n}\n\nfunction ProductsPage(props) {\n  const auth = useRecoilValue(authState);\n  const [categories, setCategoriesState] = useCategories();\n  const [state, setState] = useState({\n    openModalDetail: false,\n    openModalUpdate: false,\n    productSelected: {},\n    products: [],\n    total: 0,\n    page: 1,\n    name: '',\n    category: '',\n    discount: '',\n    origin: '',\n    type: '',\n    loading: false,\n    syncLoading: false,\n  });\n\n  const handleChangeSearchValue = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleSearchProducts = async (\n    page,\n    name,\n    category,\n    discount,\n    origin,\n    type\n  ) => {\n    setState({\n      ...state,\n      loading: true,\n      page,\n    });\n    const newState = {\n      ...state,\n      loading: true,\n      page,\n    };\n    try {\n      const response = await findProducts(\n        LIMIT,\n        page,\n        name,\n        category,\n        discount,\n        origin,\n        type\n      );\n      newState.products = response.data.products;\n      newState.total = response.data.total;\n      newState.loading = false;\n    } catch (error) {\n      newState.loading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  useEffect(() => {\n    handleSearchProducts(\n      1,\n      state.name,\n      state.category,\n      state.discount,\n      state.origin,\n      state.type\n    );\n  }, []);\n\n  const handleDeleteProduct = async (productIdent) => {\n    const newState = {\n      ...state,\n      loading: true,\n    };\n    try {\n      const response = await deleteProduct(productIdent);\n      newState.loading = false;\n      newState.products = state.products.filter(\n        ({ ident }) => ident !== productIdent\n      );\n    } catch (error) {\n      newState.loading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  const handleSyncProduct = async () => {\n    const newState = {\n      ...state,\n      syncLoading: true,\n    };\n    try {\n      const response = await syncProducts();\n      newState.syncLoading = false;\n      toastr['success']('Đồng bộ sản phẩm thành công');\n      await handleSearchProducts(\n        state.page,\n        state.name,\n        state.category,\n        state.discount,\n        state.origin,\n        state.type\n      );\n    } catch (error) {\n      newState.syncLoading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  return (\n    <>\n      {state.openModalDetail && (\n        <ModalDetailProduct\n          visible={state.openModalDetail}\n          product={state.productSelected}\n          onClose={() => {\n            setState({\n              ...state,\n              openModalDetail: false,\n              productSelected: {},\n            });\n          }}\n        />\n      )}\n      {state.openModalUpdate && (\n        <ModalUpdateProduct\n          visible={state.openModalUpdate}\n          product={state.productSelected}\n          onClose={() => {\n            setState({\n              ...state,\n              openModalUpdate: false,\n              productSelected: {},\n            });\n          }}\n          onUpdated={(product) => {\n            setState({\n              ...state,\n              openModalUpdate: false,\n              productSelected: {},\n              products: state.products.map((_product) => {\n                if (_product.ident === product.ident) {\n                  return product;\n                }\n                return _product;\n              }),\n            });\n          }}\n        />\n      )}\n\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-0 font-size-18\">Products List</h4>\n                <div class=\"page-title-right\">\n                  {withRole([ROLE_ADMIN], auth.role) && (\n                    <button\n                      type=\"submit\"\n                      class=\"btn btn-primary w-md\"\n                      onClick={handleSyncProduct}\n                    >\n                      {state.syncLoading ? (\n                        <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\n                      ) : (\n                        <i class=\"bx bx-sync font-size-16 align-middle mr-2\"></i>\n                      )}\n                      Đồng bộ sản phẩm\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div className=\"col-lg-3\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <h4 class=\"card-title mb-4\">Filter</h4>\n                  <form\n                    onSubmit={(event) => {\n                      event.preventDefault();\n                      handleSearchProducts(\n                        1,\n                        state.name,\n                        state.category,\n                        state.discount,\n                        state.origin,\n                        state.type\n                      );\n                    }}\n                  >\n                    <div class=\"form-group\">\n                      <label for=\"ategory-select\">Chuyên mục sản phẩm</label>\n                      <select\n                        class=\"form-control\"\n                        id=\"category-select\"\n                        value={state.category}\n                        onChange={(event) =>\n                          handleChangeSearchValue(\n                            'category',\n                            event.target.value\n                          )\n                        }\n                      >\n                        <option value=\"\">Tất cả</option>\n                        {categories.map((category) => {\n                          return (\n                            <option key={category._id} value={category._id}>\n                              {category.name}\n                            </option>\n                          );\n                        })}\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"type-select\">Loại</label>\n                      <select\n                        class=\"form-control\"\n                        id=\"type-select\"\n                        value={state.type}\n                        onChange={(event) =>\n                          handleChangeSearchValue('type', event.target.value)\n                        }\n                      >\n                        <option value=\"\">Bất kỳ Loại vang</option>\n                        <option value=\"vang đỏ\">Vang đỏ</option>\n                        <option value=\"vang hồng\">Vang hồng</option>\n                        <option value=\"vang nổ\">Vang nổ</option>\n                        <option value=\"vang trắng\">Vang trắng</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"origin-select\">Xuất xứ</label>\n                      <select\n                        class=\"form-control\"\n                        id=\"origin-select\"\n                        value={state.origin}\n                        onChange={(event) =>\n                          handleChangeSearchValue('origin', event.target.value)\n                        }\n                      >\n                        <option value=\"\">Bất kỳ Nguồn gốc vang</option>\n                        <option value=\"đức\">Đức</option>\n                        <option value=\"hungary\">Hungary</option>\n                        <option value=\"new zealand\">New Zealand</option>\n                        <option value=\"nga\">Nga</option>\n                        <option value=\"pháp\">Pháp</option>\n                        <option value=\"scotland\">Scotland</option>\n                        <option value=\"việt nam\">Việt Nam</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"discount-select\">Giảm giá</label>\n                      <select\n                        class=\"form-control\"\n                        id=\"discount-select\"\n                        value={state.discount}\n                        onChange={(event) =>\n                          handleChangeSearchValue(\n                            'discount',\n                            event.target.value\n                          )\n                        }\n                      >\n                        <option value=\"\">Không</option>\n                        <option value=\"true\">Đang giảm giá</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"name-select\">Tên</label>\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        id=\"name-select\"\n                        value={state.name}\n                        onChange={(event) =>\n                          handleChangeSearchValue('name', event.target.value)\n                        }\n                      />\n                    </div>\n                    <button type=\"submit\" class=\"btn btn-primary\">\n                      Tìm kiếm\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-9\">\n              <div class=\"\">\n                <div class=\"table-responsive\">\n                  <table class=\"table project-list-table table-nowrap table-centered table-borderless\">\n                    <thead>\n                      <tr>\n                        <th scope=\"col\" style={{ width: '100px' }}>\n                          #\n                        </th>\n                        <th>Name</th>\n                        <th>Price</th>\n                        <th>Discount</th>\n                        <th>Ident</th>\n                        <th>View Details</th>\n                        <th>Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {state.products.map((product, index) => {\n                        return (\n                          <tr key={product._id}>\n                            <td>\n                              <img\n                                src={(product.images || [])[0]}\n                                alt=\"\"\n                                class=\"avatar-sm\"\n                              />\n                            </td>\n                            <td>\n                              <h5\n                                class=\"text-truncate font-size-14\"\n                                style={{\n                                  maxWidth: '300px',\n                                  whiteSpace: 'nowrap',\n                                  overflow: 'hidden',\n                                  textOverflow: 'ellipsis',\n                                }}\n                              >\n                                <a href=\"#\" class=\"text-dark\">\n                                  {product.name}\n                                </a>\n                              </h5>\n                              <p\n                                class=\"text-muted mb-0\"\n                                style={{\n                                  maxWidth: '300px',\n                                  whiteSpace: 'nowrap',\n                                  overflow: 'hidden',\n                                  textOverflow: 'ellipsis',\n                                }}\n                              >\n                                {product.description}\n                              </p>\n                            </td>\n                            <td>{numeral(product.price).format('0,0')}</td>\n                            <td>{numeral(product.discount).format('0,0')}</td>\n                            <td>{product.ident}</td>\n                            <td>\n                              <button\n                                type=\"button\"\n                                class=\"btn btn-primary btn-sm btn-rounded\"\n                                onClick={() => {\n                                  setState({\n                                    ...state,\n                                    openModalDetail: true,\n                                    productSelected: product,\n                                  });\n                                }}\n                              >\n                                View Details\n                              </button>\n                            </td>\n                            <td>\n                              <div class=\"dropdown\">\n                                <a\n                                  href=\"#\"\n                                  class=\"dropdown-toggle card-drop\"\n                                  data-toggle=\"dropdown\"\n                                  aria-expanded=\"false\"\n                                >\n                                  <i class=\"mdi mdi-dots-horizontal font-size-18\"></i>\n                                </a>\n                                <ul class=\"dropdown-menu dropdown-menu-right\">\n                                  {withRole(\n                                    [ROLE_ADMIN, SALE_MOD, B3_MOD, SALE_STAFF],\n                                    auth.role\n                                  ) && (\n                                    <>\n                                      <li>\n                                        <a\n                                          onClick={() => {\n                                            setState({\n                                              ...state,\n                                              openModalUpdate: true,\n                                              productSelected: product,\n                                            });\n                                          }}\n                                          class=\"dropdown-item\"\n                                        >\n                                          <i class=\"mdi mdi-pencil font-size-16 text-success mr-1\"></i>{' '}\n                                          Edit\n                                        </a>\n                                      </li>\n                                      {withRole([ROLE_ADMIN], auth.role) && (\n                                        <li>\n                                          <a\n                                            onClick={() =>\n                                              handleDeleteProduct(product.ident)\n                                            }\n                                            class=\"dropdown-item\"\n                                          >\n                                            <i class=\"mdi mdi-trash-can font-size-16 text-danger mr-1\"></i>{' '}\n                                            Delete\n                                          </a>\n                                        </li>\n                                      )}\n                                    </>\n                                  )}\n                                </ul>\n                              </div>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-lg-12\">\n                    <ReactPaginate\n                      previousLabel={<i class=\"mdi mdi-chevron-left\"></i>}\n                      nextLabel={<i class=\"mdi mdi-chevron-right\"></i>}\n                      forcePage={state.page - 1}\n                      breakLabel={'...'}\n                      breakClassName={'break-me'}\n                      pageCount={Math.ceil(state.total / LIMIT)}\n                      marginPagesDisplayed={2}\n                      pageRangeDisplayed={2}\n                      onPageChange={(page) => {\n                        handleSearchProducts(\n                          page.selected + 1,\n                          state.name,\n                          state.category,\n                          state.discount,\n                          state.origin,\n                          state.type\n                        );\n                      }}\n                      containerClassName=\"pagination pagination-rounded justify-content-center mt-4\"\n                      pageClassName=\"page-item\"\n                      previousClassName=\"page-item\"\n                      nextClassName=\"page-item\"\n                      activeClassName=\"active\"\n                      pageLinkClassName=\"page-link\"\n                      previousLinkClassName=\"page-link\"\n                      nextLinkClassName=\"page-link\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* <div class=\"row\">\n                            <div class=\"col-12\">\n                                <div class=\"text-center my-3\">\n                                    <a href=\"javascript:void(0);\" class=\"text-success\"><i class=\"bx bx-loader bx-spin font-size-18 align-middle mr-2\"></i> Load more </a>\n                                </div>\n                            </div>\n                        </div> */}\n        </div>\n      </div>\n    </>\n  );\n}\n\nProductsPage.propTypes = {};\n\nexport default withLayout(ProductsPage);\n","import { atom } from 'recoil';\r\n\r\nconst posState = atom({\r\n  key: 'posState',\r\n  default: [],\r\n});\r\n\r\nexport default posState;\r\n","import request from '../utils/request';\n\nexport const getPos = async () => {\n  try {\n    const response = await request('/pos');\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const createPos = async (posData) => {\n  try {\n    const response = await request('/pos', {\n      method: 'POST',\n      body: JSON.stringify(posData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const updatePos = async (posId, posData) => {\n  try {\n    const response = await request(`/pos/${posId}`, {\n      method: 'PUT',\n      body: JSON.stringify(posData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const deletePos = async (posId) => {\n  try {\n    const response = await request(`/pos/${posId}`, {\n      method: 'DELETE',\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import { useEffect } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport toastr from 'toastr';\r\n\r\nimport posState from '../atoms/pos';\r\nimport { getPos } from '../apis/pos';\r\n\r\nconst usePos = () => {\r\n  const [pos, setPosState] = useRecoilState(posState);\r\n\r\n  const handleGetPos = async () => {\r\n    try {\r\n      const response = await getPos();\r\n      setPosState(response.data);\r\n    } catch (error) {\r\n      toastr['error'](error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!pos.length) handleGetPos();\r\n  }, []);\r\n\r\n  return [pos, setPosState];\r\n};\r\n\r\nexport default usePos;\r\n","import request from '../utils/request';\r\n\r\nexport const getOrders = async (\r\n  limit,\r\n  page,\r\n  name,\r\n  status,\r\n  paymentMethod,\r\n  paid\r\n) => {\r\n  try {\r\n    const response = await request(\r\n      `/order?limit=${limit}&page=${page}&name=${name}&status=${status}&paymentMethod=${paymentMethod}&paid=${paid}`\r\n    );\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n// export const createOrder = async (userInfo) => {\r\n//   try {\r\n//     const response = await request('/order', {\r\n//       method: 'POST',\r\n//       body: JSON.stringify(userInfo),\r\n//     });\r\n//     return response;\r\n//   } catch (error) {\r\n//     throw error;\r\n//   }\r\n// };\r\n\r\nexport const updateOrder = async (orderId, orderInfo) => {\r\n  try {\r\n    const response = await request(`/order/${orderId}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(orderInfo),\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteOrder = async (orderId) => {\r\n  try {\r\n    const response = await request(`/order/${orderId}`, {\r\n      method: 'DELETE',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const pushToPos = async (posId, orderId) => {\r\n  try {\r\n    const response = await request('/order/push-to-pos', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        posId,\r\n        orderId,\r\n      }),\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport sum from 'lodash/sum';\r\nimport numeral from 'numeral';\r\nimport toastr from 'toastr';\r\nimport ReactPaginate from 'react-paginate';\r\nimport moment from 'moment';\r\nimport { useRecoilValue } from 'recoil';\r\n\r\nimport Modal from '../../components/Modal';\r\nimport ModalHeader from '../../components/Modal/ModalHeader';\r\nimport ModalBody from '../../components/Modal/ModalBody';\r\nimport ModalFooter from '../../components/Modal/ModalFooter';\r\n\r\nimport usePos from '../../hooks/usePos';\r\n\r\nimport {\r\n  getOrders,\r\n  //   createOrder,\r\n  updateOrder,\r\n  deleteOrder,\r\n  pushToPos,\r\n} from '../../apis/orders';\r\nimport cleanObj from '../../utils/cleanObj';\r\n\r\nimport withLayout from '../../hocs/withLayout';\r\n\r\nimport withRole from '../../utils/withRole';\r\n\r\nimport { ROLE_ADMIN, SALE_MOD, SALE_STAFF, CS_STAFF } from '../../configs';\r\nimport authState from '../../atoms/auth';\r\n\r\nconst LIMIT = 20;\r\n\r\nfunction ModalSelectPos({ visible, onClose, order, onUpdated }) {\r\n  const [pos] = usePos();\r\n  const [state, setState] = useState({\r\n    loading: false,\r\n    pos: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!state.pos) {\r\n      setState({ ...state, pos: (pos[0] || {})._id || '' });\r\n    }\r\n  }, [pos]);\r\n\r\n  const handleSendToPos = async () => {\r\n    if (state.loading) return;\r\n    setState({ ...state, loading: true });\r\n    try {\r\n      if (!state.pos) {\r\n        toastr['error']('Vui lòng chọn POS');\r\n        return;\r\n      }\r\n      const response = await pushToPos(state.pos, order._id);\r\n      toastr['success']('Gửi đến POS thành công');\r\n      onUpdated(response.data);\r\n      // onClose();\r\n    } catch (error) {\r\n      toastr['error'](error.message);\r\n    }\r\n    setState({ ...state, loading: false });\r\n  };\r\n\r\n  return (\r\n    <Modal visible={visible}>\r\n      <ModalHeader>\r\n        <h5 class=\"modal-title\">Select pos</h5>\r\n        <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n          onClick={onClose}\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </ModalHeader>\r\n      <ModalBody>\r\n        <div class=\"form-group row mb-4\">\r\n          <label for=\"orderStatus\" class=\"col-sm-3 col-form-label\">\r\n            Pos\r\n          </label>\r\n          <div class=\"col-sm-9\">\r\n            <select\r\n              class=\"form-control\"\r\n              id=\"orderStatus\"\r\n              value={state.pos}\r\n              onChange={\r\n                (event) =>\r\n                  setState({\r\n                    ...state,\r\n                    pos: event.target.value,\r\n                  })\r\n                // handleChangeUserInfo('pos', event.target.value)\r\n              }\r\n            >\r\n              {pos.map(({ name, _id }) => (\r\n                <option value={_id}>{name}</option>\r\n              ))}\r\n              {/* <option value=\"\">Chưa xử lý</option>\r\n                <option value=\"Processing\">Đang xử lý</option>\r\n                <option value=\"Shipped\">Đang giao hàng</option>\r\n                <option value=\"Delivered\">Đã nhận</option>\r\n                <option value=\"Cancelled\">Đã Hủy</option> */}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\r\n          Close\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn btn-primary w-md\"\r\n          onClick={handleSendToPos}\r\n        >\r\n          {state.loading && (\r\n            <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\r\n          )}\r\n          Submit\r\n        </button>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction ModalDetailOrder({ visible, onClose, order }) {\r\n  // const total = sum(order.orderDetails.map(({ totalPrice }) => totalPrice));\r\n\r\n  const totalWithoutDiscount = sum(\r\n    (order.orderDetails || []).map(({ totalPrice }) => totalPrice)\r\n  );\r\n\r\n  let discount = 0;\r\n  if (order.voucher && order.voucher.value) {\r\n    if (order.voucher.type === 'percent') {\r\n      discount = (totalWithoutDiscount / 100) * order.voucher.value;\r\n    } else {\r\n      discount = order.voucher.value;\r\n    }\r\n  }\r\n\r\n  const total = totalWithoutDiscount - discount;\r\n  return (\r\n    <Modal visible={visible}>\r\n      <ModalHeader>\r\n        <h5 class=\"modal-title\">Order Details</h5>\r\n        <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n          onClick={onClose}\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </ModalHeader>\r\n      <ModalBody>\r\n        <table class=\"table table-centered table-nowrap\">\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">ID</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{order._id}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Name</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{order.name}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Phone</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{order.phone}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Email</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{order.email}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Address</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{order.shipAddress}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">City</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{order.shipCity}</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">Note</h5>\r\n                </div>\r\n              </td>\r\n              <th scope=\"row\">{order.note}</th>\r\n            </tr>\r\n            {order.voucher && order.voucher.value && (\r\n              <tr>\r\n                <td>\r\n                  <div>\r\n                    <h5 class=\"text-truncate font-size-14\">Voucher</h5>\r\n                  </div>\r\n                </td>\r\n                <th scope=\"row\">{order.voucher.code}</th>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-centered table-nowrap\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Product</th>\r\n                <th scope=\"col\">Product Name</th>\r\n                <th scope=\"col\">Price</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {order.orderDetails.map((orderDetail) => {\r\n                const product = orderDetail.productId || {};\r\n\r\n                return (\r\n                  <tr>\r\n                    <th scope=\"row\">\r\n                      <div>\r\n                        <img\r\n                          src={(product.images || [])[0]}\r\n                          alt=\"\"\r\n                          class=\"avatar-sm\"\r\n                        />\r\n                      </div>\r\n                    </th>\r\n                    <td>\r\n                      <div>\r\n                        <h5 class=\"text-truncate font-size-14\">\r\n                          {product.name}\r\n                        </h5>\r\n                        <p class=\"text-muted mb-0\">x{orderDetail.quantity}</p>\r\n                      </div>\r\n                    </td>\r\n                    <td>{numeral(orderDetail.totalPrice).format('0,0')}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n              {!!discount && (\r\n                <tr>\r\n                  <td colspan=\"2\">\r\n                    <h6 class=\"m-0 text-right\">Discount:</h6>\r\n                  </td>\r\n                  <td>{numeral(discount).format('0,0')}</td>\r\n                </tr>\r\n              )}\r\n              <tr>\r\n                <td colspan=\"2\">\r\n                  <h6 class=\"m-0 text-right\">Total:</h6>\r\n                </td>\r\n                <td>{numeral(total).format('0,0')}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\r\n          Close\r\n        </button>\r\n      </ModalFooter>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction ModalUpdateOrder({ visible, onClose, order, onUpdated, isCreate }) {\r\n  const auth = useRecoilValue(authState);\r\n  const [state, setState] = useState({\r\n    name: order.name || '',\r\n    email: order.email || '',\r\n    phone: order.phone || '',\r\n    shipAddress: order.shipAddress || '',\r\n    shipCity: order.shipCity || '',\r\n    status: order.status || '',\r\n    paid: order.paid || '',\r\n    note: order.note || '',\r\n\r\n    loading: false,\r\n  });\r\n\r\n  const handleChangeUserInfo = (prop, value) => {\r\n    setState({\r\n      ...state,\r\n      [prop]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    setState({ ...state, loading: true });\r\n    try {\r\n      event.preventDefault();\r\n      const orderInfo = {\r\n        name: state.name,\r\n        email: state.email,\r\n        phone: state.phone,\r\n        shipAddress: state.shipAddress,\r\n        shipCity: state.shipCity,\r\n        status: state.status,\r\n        paid: state.paid,\r\n        note: state.note,\r\n      };\r\n      cleanObj(orderInfo);\r\n      let response = {};\r\n      if (isCreate) {\r\n        // response = await createOrder(orderInfo);\r\n      } else {\r\n        response = await updateOrder(order._id, orderInfo);\r\n      }\r\n      onUpdated(response.data);\r\n    } catch (error) {\r\n      toastr['error'](error.message);\r\n    }\r\n    setState({ ...state, loading: false });\r\n  };\r\n\r\n  return (\r\n    <Modal visible={visible}>\r\n      <ModalHeader>\r\n        <h5 class=\"modal-title\">\r\n          {isCreate ? 'Create order' : 'Update order'}\r\n        </h5>\r\n        <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n          onClick={onClose}\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </ModalHeader>\r\n      <form onSubmit={handleSubmit}>\r\n        <ModalBody>\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"userName\" class=\"col-sm-3 col-form-label\">\r\n              Name\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"userName\"\r\n                value={state.name}\r\n                onChange={(event) =>\r\n                  handleChangeUserInfo('name', event.target.value)\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"userEmail\" class=\"col-sm-3 col-form-label\">\r\n              Email\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <input\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                id=\"userEmail\"\r\n                value={state.email}\r\n                onChange={(event) =>\r\n                  handleChangeUserInfo('email', event.target.value)\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"userPhone\" class=\"col-sm-3 col-form-label\">\r\n              Phone\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <input\r\n                type=\"tel\"\r\n                class=\"form-control\"\r\n                id=\"userPhone\"\r\n                value={state.phone}\r\n                onChange={(event) =>\r\n                  handleChangeUserInfo('phone', event.target.value)\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"userAddress\" class=\"col-sm-3 col-form-label\">\r\n              Address\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <textarea\r\n                required=\"\"\r\n                class=\"form-control\"\r\n                rows=\"2\"\r\n                id=\"userAddress\"\r\n                value={state.shipAddress}\r\n                onChange={(event) =>\r\n                  handleChangeUserInfo('shipAddress', event.target.value)\r\n                }\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"userCity\" class=\"col-sm-3 col-form-label\">\r\n              City\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <input\r\n                type=\"tel\"\r\n                class=\"form-control\"\r\n                id=\"userCity\"\r\n                value={state.shipCity}\r\n                onChange={(event) =>\r\n                  handleChangeUserInfo('shipCity', event.target.value)\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label for=\"orderStatus\" class=\"col-sm-3 col-form-label\">\r\n              Status\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <select\r\n                class=\"form-control\"\r\n                id=\"orderStatus\"\r\n                value={state.status}\r\n                onChange={(event) =>\r\n                  handleChangeUserInfo('status', event.target.value)\r\n                }\r\n              >\r\n                <option value=\"\">Chưa xử lý</option>\r\n                <option value=\"Processing\">Đang xử lý</option>\r\n                <option value=\"Shipped\">Đang giao hàng</option>\r\n                <option value=\"Delivered\">Đã nhận</option>\r\n                <option value=\"Cancelled\">Đã Hủy</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          {withRole([ROLE_ADMIN, SALE_MOD], auth.role) && (\r\n            <>\r\n              <div class=\"form-group row mb-4\">\r\n                <label for=\"orderpaid\" class=\"col-sm-3 col-form-label\">\r\n                  Trạng thái thanh toán\r\n                </label>\r\n                <div class=\"col-sm-9\">\r\n                  <select\r\n                    class=\"form-control\"\r\n                    id=\"orderpaid\"\r\n                    value={state.paid}\r\n                    onChange={(event) =>\r\n                      handleChangeUserInfo('paid', event.target.value)\r\n                    }\r\n                  >\r\n                    <option value=\"\">Chưa thanh toán</option>\r\n                    <option value=\"true\">Đã thanh toán</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row mb-4\">\r\n                <label for=\"orderNote\" class=\"col-sm-3 col-form-label\">\r\n                  Note\r\n                </label>\r\n                <div class=\"col-sm-9\">\r\n                  <textarea\r\n                    required=\"\"\r\n                    class=\"form-control\"\r\n                    rows=\"2\"\r\n                    id=\"orderNote\"\r\n                    value={state.note}\r\n                    onChange={(event) =>\r\n                      handleChangeUserInfo('note', event.target.value)\r\n                    }\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\r\n            Close\r\n          </button>\r\n          <button type=\"submit\" class=\"btn btn-primary w-md\">\r\n            {state.loading && (\r\n              <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\r\n            )}\r\n            Submit\r\n          </button>\r\n        </ModalFooter>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction OrdersPage(props) {\r\n  const auth = useRecoilValue(authState);\r\n  const [state, setState] = useState({\r\n    openModalSelectPos: false,\r\n    openModalCreate: false,\r\n    openModalUpdate: false,\r\n    orderSelected: {},\r\n    orders: [],\r\n    total: 0,\r\n    page: 1,\r\n    name: '',\r\n    status: '',\r\n    paymentMethod: '',\r\n    paid: 0,\r\n    loading: false,\r\n  });\r\n\r\n  const handleChangeSearchValue = (prop, value) => {\r\n    setState({\r\n      ...state,\r\n      [prop]: value,\r\n    });\r\n  };\r\n\r\n  const handleSearchOrders = async (\r\n    page,\r\n    name,\r\n    status,\r\n    paymentMethod,\r\n    paid\r\n  ) => {\r\n    setState({\r\n      ...state,\r\n      loading: true,\r\n      page,\r\n    });\r\n    const newState = {\r\n      ...state,\r\n      loading: true,\r\n      page,\r\n    };\r\n    try {\r\n      const response = await getOrders(\r\n        LIMIT,\r\n        page,\r\n        name,\r\n        status,\r\n        paymentMethod,\r\n        paid\r\n      );\r\n      newState.orders = response.data.orders;\r\n      newState.total = response.data.total;\r\n      newState.loading = false;\r\n    } catch (error) {\r\n      newState.loading = false;\r\n      toastr['error'](error.message);\r\n    }\r\n    setState(newState);\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleSearchOrders(\r\n      1,\r\n      state.name,\r\n      state.status,\r\n      state.paymentMethod,\r\n      state.paid\r\n    );\r\n  }, []);\r\n\r\n  const handleDeleteOrder = async (orderId) => {\r\n    const newState = {\r\n      ...state,\r\n      loading: true,\r\n    };\r\n    try {\r\n      const response = await deleteOrder(orderId);\r\n      newState.loading = false;\r\n      newState.orders = state.orders.filter(({ _id }) => _id !== orderId);\r\n    } catch (error) {\r\n      newState.loading = false;\r\n      toastr['error'](error.message);\r\n    }\r\n    setState(newState);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {state.openModalSelectPos && (\r\n        <ModalSelectPos\r\n          visible={state.openModalSelectPos}\r\n          order={state.orderSelected}\r\n          onClose={() => {\r\n            setState({\r\n              ...state,\r\n              openModalSelectPos: false,\r\n              orderSelected: {},\r\n            });\r\n          }}\r\n          onUpdated={(order) => {\r\n            if (state.openModalCreate) {\r\n              setState({\r\n                ...state,\r\n                openModalCreate: false,\r\n                orders:\r\n                  state.orders.length === LIMIT\r\n                    ? [order, ...state.orders].slice(0, -1)\r\n                    : [order, ...state.orders],\r\n              });\r\n            } else {\r\n              setState({\r\n                ...state,\r\n                openModalUpdate: false,\r\n                orderSelected: {},\r\n                orders: state.orders.map((_order) => {\r\n                  if (_order._id === order._id) {\r\n                    return order;\r\n                  }\r\n                  return _order;\r\n                }),\r\n              });\r\n            }\r\n          }}\r\n        />\r\n      )}\r\n      {state.openModalDetail && (\r\n        <ModalDetailOrder\r\n          visible={state.openModalDetail}\r\n          order={state.orderSelected}\r\n          onClose={() => {\r\n            setState({\r\n              ...state,\r\n              openModalDetail: false,\r\n              orderSelected: {},\r\n            });\r\n          }}\r\n        />\r\n      )}\r\n      {(state.openModalUpdate || state.openModalCreate) && (\r\n        <ModalUpdateOrder\r\n          isCreate={state.openModalCreate}\r\n          visible={state.openModalUpdate || state.openModalCreate}\r\n          order={state.orderSelected}\r\n          onClose={() => {\r\n            setState({\r\n              ...state,\r\n              openModalUpdate: false,\r\n              openModalCreate: false,\r\n              orderSelected: {},\r\n            });\r\n          }}\r\n          onUpdated={(order) => {\r\n            if (state.openModalCreate) {\r\n              setState({\r\n                ...state,\r\n                openModalCreate: false,\r\n                orders:\r\n                  state.orders.length === LIMIT\r\n                    ? [order, ...state.orders].slice(0, -1)\r\n                    : [order, ...state.orders],\r\n              });\r\n            } else {\r\n              setState({\r\n                ...state,\r\n                openModalUpdate: false,\r\n                orderSelected: {},\r\n                orders: state.orders.map((_order) => {\r\n                  if (_order._id === order._id) {\r\n                    return order;\r\n                  }\r\n                  return _order;\r\n                }),\r\n              });\r\n            }\r\n          }}\r\n        />\r\n      )}\r\n      <div className=\"page-content\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"page-title-box d-flex align-items-center justify-content-between\">\r\n                <h4 className=\"mb-0 font-size-18\">Orders List</h4>\r\n\r\n                {/* <div className=\"page-title-right\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-primary w-md\"\r\n                    onClick={() => {\r\n                      setState({\r\n                        ...state,\r\n                        openModalCreate: true,\r\n                      });\r\n                    }}\r\n                  >\r\n                    Thêm thành viên\r\n                  </button>\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-2\">\r\n              <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                  <h4 class=\"card-title mb-4\">Filter</h4>\r\n                  <form\r\n                    onSubmit={(event) => {\r\n                      event.preventDefault();\r\n                      handleSearchOrders(\r\n                        1,\r\n                        state.name,\r\n                        state.status,\r\n                        state.paymentMethod,\r\n                        state.paid\r\n                      );\r\n                    }}\r\n                  >\r\n                    <div class=\"form-group\">\r\n                      <label for=\"status-select\">Trạng thái</label>\r\n                      <select\r\n                        class=\"form-control\"\r\n                        id=\"status-select\"\r\n                        value={state.status}\r\n                        onChange={(event) =>\r\n                          handleChangeSearchValue('status', event.target.value)\r\n                        }\r\n                      >\r\n                        <option value=\"\">Tất cả</option>\r\n                        <option value=\"Not processed\">Chưa xử lý</option>\r\n                        <option value=\"Processing\">Đang xử lý</option>\r\n                        <option value=\"Shipped\">Đang giao hàng</option>\r\n                        <option value=\"Delivered\">Đã nhận</option>\r\n                        <option value=\"Cancelled\">Đã Hủy</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label for=\"paymentMethod-select\">\r\n                        Phương thức thanh toán\r\n                      </label>\r\n                      <select\r\n                        class=\"form-control\"\r\n                        id=\"paymentMethod-select\"\r\n                        value={state.paymentMethod}\r\n                        onChange={(event) =>\r\n                          handleChangeSearchValue(\r\n                            'paymentMethod',\r\n                            event.target.value\r\n                          )\r\n                        }\r\n                      >\r\n                        <option value=\"\">Tất cả</option>\r\n                        <option value=\"cod\">Cod</option>\r\n                        <option value=\"vnpay\">VNPay</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label for=\"paid-select\">Trạng thái thanh toán</label>\r\n                      <select\r\n                        class=\"form-control\"\r\n                        id=\"paid-select\"\r\n                        value={state.paid}\r\n                        onChange={(event) =>\r\n                          handleChangeSearchValue('paid', event.target.value)\r\n                        }\r\n                      >\r\n                        <option value={0}>Tất cả</option>\r\n                        <option value={1}>Chưa thanh toán</option>\r\n                        <option value={2}>Đã thanh toán</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label for=\"name-select\">Tên</label>\r\n                      <input\r\n                        class=\"form-control\"\r\n                        type=\"text\"\r\n                        id=\"name-select\"\r\n                        value={state.name}\r\n                        onChange={(event) =>\r\n                          handleChangeSearchValue('name', event.target.value)\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <button type=\"submit\" class=\"btn btn-primary\">\r\n                      Tìm kiếm\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-10\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-centered table-nowrap table-hover\">\r\n                      <thead className=\"thead-light\">\r\n                        <tr>\r\n                          <th scope=\"col\" style={{ width: '70px' }}>\r\n                            #ID\r\n                          </th>\r\n                          <th scope=\"col\">Name</th>\r\n                          <th scope=\"col\">Thời gian</th>\r\n                          <th scope=\"col\">Tổng tiền</th>\r\n                          <th scope=\"col\">Trạng thái</th>\r\n                          <th scope=\"col\">Hình thức thanh toán</th>\r\n                          <th scope=\"col\">Chi tiết</th>\r\n                          <th>Action</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {state.orders.map((order, index) => {\r\n                          // const total = sum(\r\n                          //   order.orderDetails.map(\r\n                          //     ({ totalPrice }) => totalPrice\r\n                          //   )\r\n                          // );\r\n                          const totalWithoutDiscount = sum(\r\n                            (order.orderDetails || []).map(\r\n                              ({ totalPrice }) => totalPrice\r\n                            )\r\n                          );\r\n\r\n                          let discount = 0;\r\n                          if (order.voucher && order.voucher.value) {\r\n                            if (order.voucher.type === 'percent') {\r\n                              discount =\r\n                                (totalWithoutDiscount / 100) *\r\n                                order.voucher.value;\r\n                            } else {\r\n                              discount = order.voucher.value;\r\n                            }\r\n                          }\r\n\r\n                          const total = totalWithoutDiscount - discount;\r\n                          return (\r\n                            <tr key={order.lid}>\r\n                              <td>\r\n                                <b>{order.lid}</b>\r\n                              </td>\r\n                              <td>\r\n                                <h5 className=\"font-size-14 mb-1\">\r\n                                  <a className=\"text-dark\">{order.name}</a>\r\n                                </h5>\r\n                                <p className=\"text-muted mb-0\">\r\n                                  {order.address}\r\n                                </p>\r\n                              </td>\r\n                              <td>\r\n                                {moment(order.createdAt).format(\r\n                                  'hh:mm DD-MM-YYYY'\r\n                                )}\r\n                                {/* {order.createdAt} */}\r\n                              </td>\r\n                              <td>{numeral(total).format('0,0')}</td>\r\n                              <td>\r\n                                {(() => {\r\n                                  if (order.status === 'Not processed') {\r\n                                    return (\r\n                                      <span class=\"badge badge-pill badge-soft-warning font-size-12\">\r\n                                        {order.status}\r\n                                      </span>\r\n                                    );\r\n                                  } else if (order.status === 'Cancelled') {\r\n                                    return (\r\n                                      <span class=\"badge badge-pill badge-soft-danger font-size-12\">\r\n                                        {order.status}\r\n                                      </span>\r\n                                    );\r\n                                  } else {\r\n                                    return (\r\n                                      <span class=\"badge badge-pill badge-soft-success font-size-12\">\r\n                                        {order.status}\r\n                                      </span>\r\n                                    );\r\n                                  }\r\n                                })()}\r\n                              </td>\r\n                              <td>\r\n                                {(() => {\r\n                                  if (order.paymentMethod === 'cod') {\r\n                                    return (\r\n                                      <i class=\"fas fa-money-bill-alt mr-1\"></i>\r\n                                    );\r\n                                  } else if (order.paymentMethod === 'vnpay') {\r\n                                    return <i class=\"bx bx-credit-card\"></i>;\r\n                                  }\r\n                                })()}{' '}\r\n                                {order.paymentMethod} /{' '}\r\n                                {order.paid\r\n                                  ? 'Đã thanh toán'\r\n                                  : 'Chưa thanh toán'}\r\n                              </td>\r\n                              <td>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  class=\"btn btn-primary btn-sm btn-rounded\"\r\n                                  onClick={() => {\r\n                                    setState({\r\n                                      ...state,\r\n                                      openModalDetail: true,\r\n                                      orderSelected: order,\r\n                                    });\r\n                                  }}\r\n                                >\r\n                                  View Details\r\n                                </button>\r\n                              </td>\r\n                              <td>\r\n                                <div class=\"dropdown\">\r\n                                  <a\r\n                                    class=\"dropdown-toggle card-drop\"\r\n                                    data-toggle=\"dropdown\"\r\n                                    aria-expanded=\"false\"\r\n                                  >\r\n                                    <i class=\"mdi mdi-dots-horizontal font-size-18\"></i>\r\n                                  </a>\r\n                                  <ul className=\"dropdown-menu dropdown-menu-right\">\r\n                                    {withRole(\r\n                                      [\r\n                                        ROLE_ADMIN,\r\n                                        SALE_MOD,\r\n                                        SALE_STAFF,\r\n                                        CS_STAFF,\r\n                                      ],\r\n                                      auth.role\r\n                                    ) && (\r\n                                      <>\r\n                                        <li>\r\n                                          <a\r\n                                            onClick={() => {\r\n                                              setState({\r\n                                                ...state,\r\n                                                openModalSelectPos: true,\r\n                                                orderSelected: order,\r\n                                              });\r\n                                            }}\r\n                                            class=\"dropdown-item\"\r\n                                          >\r\n                                            <i class=\"bx bx-send font-size-16 text-success mr-1\"></i>{' '}\r\n                                            Gửi đến POS\r\n                                          </a>\r\n                                        </li>\r\n                                        <li>\r\n                                          <a\r\n                                            onClick={() => {\r\n                                              setState({\r\n                                                ...state,\r\n                                                openModalUpdate: true,\r\n                                                orderSelected: order,\r\n                                              });\r\n                                            }}\r\n                                            class=\"dropdown-item\"\r\n                                          >\r\n                                            <i class=\"mdi mdi-pencil font-size-16 text-success mr-1\"></i>{' '}\r\n                                            Chỉnh sửa\r\n                                          </a>\r\n                                        </li>\r\n                                        {withRole(\r\n                                          [ROLE_ADMIN, SALE_MOD],\r\n                                          auth.role\r\n                                        ) && (\r\n                                          <li>\r\n                                            <a\r\n                                              onClick={() =>\r\n                                                handleDeleteOrder(order._id)\r\n                                              }\r\n                                              class=\"dropdown-item\"\r\n                                            >\r\n                                              <i class=\"mdi mdi-trash-can font-size-16 text-danger mr-1\"></i>{' '}\r\n                                              Xóa\r\n                                            </a>\r\n                                          </li>\r\n                                        )}\r\n                                      </>\r\n                                    )}\r\n                                  </ul>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-12\">\r\n                      <ReactPaginate\r\n                        previousLabel={<i class=\"mdi mdi-chevron-left\"></i>}\r\n                        nextLabel={<i class=\"mdi mdi-chevron-right\"></i>}\r\n                        forcePage={state.page - 1}\r\n                        breakLabel={'...'}\r\n                        breakClassName={'break-me'}\r\n                        pageCount={Math.ceil(state.total / LIMIT)}\r\n                        marginPagesDisplayed={2}\r\n                        pageRangeDisplayed={2}\r\n                        onPageChange={(page) => {\r\n                          handleSearchOrders(\r\n                            page.selected + 1,\r\n                            state.name,\r\n                            state.status,\r\n                            state.paymentMethod,\r\n                            state.paid\r\n                          );\r\n                        }}\r\n                        containerClassName=\"pagination pagination-rounded justify-content-center mt-4\"\r\n                        pageClassName=\"page-item\"\r\n                        previousClassName=\"page-item\"\r\n                        nextClassName=\"page-item\"\r\n                        activeClassName=\"active\"\r\n                        pageLinkClassName=\"page-link\"\r\n                        previousLinkClassName=\"page-link\"\r\n                        nextLinkClassName=\"page-link\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nOrdersPage.propTypes = {};\r\n\r\nexport default withLayout(OrdersPage);\r\n","import request from '../utils/request';\n\nexport const getPosts = async (limit, page, type, name) => {\n  try {\n    const response = await request(\n      `/post?limit=${limit}&page=${page}&type=${type}&name=${name}`\n    );\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getPostDetail = async (postSlug) => {\n  try {\n    const response = await request(`/post/${postSlug}`);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const createPost = async (postData) => {\n  try {\n    const response = await request('/post', {\n      method: 'POST',\n      body: JSON.stringify(postData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const updatePost = async (postSlug, postData) => {\n  try {\n    const response = await request(`/post/${postSlug}`, {\n      method: 'PUT',\n      body: JSON.stringify(postData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const deletePost = async (postSlug) => {\n  try {\n    const response = await request(`/post/${postSlug}`, {\n      method: 'DELETE',\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport toastr from 'toastr';\nimport { useHistory, useParams } from 'react-router-dom';\nimport DatePicker from 'react-datepicker';\n\nimport Upload from '../../components/Upload';\n\nimport { createPost, updatePost, getPostDetail } from '../../apis/posts';\n\nimport withLayout from '../../hocs/withLayout';\nimport cleanObj from '../../utils/cleanObj';\n\nfunction CreatePostPage(props) {\n  const history = useHistory();\n  const { postSlug } = useParams();\n  const [state, setState] = useState({\n    title: '',\n    description: '',\n    content: '',\n    type: '',\n    image: '',\n    video: '',\n    startedAt: '',\n    endedAt: '',\n\n    fetched: true,\n  });\n\n  const handleChange = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const postData = {\n        title: state.title,\n        description: state.description,\n        content: state.content,\n        type: state.type,\n        image: state.image,\n        video: state.video,\n        startedAt: state.startedAt,\n        endedAt: state.endedAt,\n      };\n      cleanObj(postData);\n      if (postSlug) {\n        const response = await updatePost(postSlug, postData);\n        toastr['success']('Cập nhật bài viết thành công');\n      } else {\n        const response = await createPost(postData);\n        toastr['success']('Thêm bài viết thành công');\n      }\n      history.push('/posts');\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n  };\n\n  const handleGetPostDetail = async (postSlug) => {\n    setState({ ...state, fetched: false });\n    try {\n      const response = await getPostDetail(postSlug);\n      const {\n        title,\n        description,\n        content,\n        type,\n        image,\n        video,\n        startedAt,\n        endedAt,\n      } = response.data;\n      setState({\n        ...state,\n        title,\n        description,\n        content,\n        type,\n        image,\n        video,\n        startedAt: new Date(startedAt),\n        endedAt: new Date(endedAt),\n        fetched: true,\n      });\n    } catch (error) {\n      setState({ ...state, fetched: true });\n      toastr['error'](error.message);\n    }\n  };\n\n  useEffect(() => {\n    if (postSlug) {\n      handleGetPostDetail(postSlug);\n    }\n  }, []);\n\n  return (\n    <>\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-0 font-size-18\">\n                  {postSlug ? 'Update post' : 'Create Post'}\n                </h4>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-lg-12\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <h4 class=\"card-title mb-4\">\n                    {postSlug ? 'Update post' : 'Create New Post'}\n                  </h4>\n                  {state.fetched && (\n                    <form class=\"outer-repeater\" onSubmit={handleSubmit}>\n                      <div data-repeater-list=\"outer-group\" class=\"outer\">\n                        <div data-repeater-item class=\"outer\">\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"post-type\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Type\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <select\n                                class=\"form-control\"\n                                id=\"post-type\"\n                                value={state.type}\n                                onChange={(event) =>\n                                  handleChange('type', event.target.value)\n                                }\n                              >\n                                <option value=\"\">Blog</option>\n                                <option value=\"video\">Video</option>\n                                <option value=\"faq\">Faq</option>\n                                <option value=\"event\">Event</option>\n                              </select>\n                            </div>\n                          </div>\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"post-title\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Title\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <input\n                                id=\"post-title\"\n                                name=\"title\"\n                                type=\"text\"\n                                class=\"form-control\"\n                                placeholder=\"Enter Title...\"\n                                value={state.title}\n                                onChange={(event) =>\n                                  handleChange('title', event.target.value)\n                                }\n                              />\n                            </div>\n                          </div>\n                          {state.type === 'video' ? (\n                            <div class=\"form-group row mb-4\">\n                              <label\n                                for=\"post-video\"\n                                class=\"col-form-label col-lg-2\"\n                              >\n                                Video Url\n                              </label>\n                              <div class=\"col-lg-10\">\n                                <input\n                                  id=\"post-video\"\n                                  name=\"video\"\n                                  type=\"text\"\n                                  class=\"form-control\"\n                                  placeholder=\"Enter Video Url...\"\n                                  value={state.video}\n                                  onChange={(event) =>\n                                    handleChange('video', event.target.value)\n                                  }\n                                />\n                              </div>\n                            </div>\n                          ) : (\n                            <>\n                              <div class=\"form-group row mb-4\">\n                                <label\n                                  for=\"post-description\"\n                                  class=\"col-form-label col-lg-2\"\n                                >\n                                  Description\n                                </label>\n                                <div class=\"col-lg-10\">\n                                  <textarea\n                                    class=\"form-control\"\n                                    rows=\"2\"\n                                    id=\"post-description\"\n                                    placeholder=\"Enter Task Desctiption...\"\n                                    value={state.description}\n                                    onChange={(event) =>\n                                      handleChange(\n                                        'description',\n                                        event.target.value\n                                      )\n                                    }\n                                  />\n                                </div>\n                              </div>\n\n                              <div class=\"form-group row mb-4\">\n                                <label class=\"col-form-label col-lg-2\">\n                                  Content\n                                </label>\n                                <div class=\"col-lg-10\">\n                                  <CKEditor\n                                    config={{\n                                      height: 200,\n                                    }}\n                                    editor={ClassicEditor}\n                                    data={state.content}\n                                    onChange={(event, editor) => {\n                                      const data = editor.getData();\n                                      handleChange('content', data);\n                                      // console.log({ event, editor, data });\n                                    }}\n                                  />\n                                </div>\n                              </div>\n                            </>\n                          )}\n\n                          {state.type === 'event' && (\n                            <div class=\"form-group row mb-4\">\n                              <label class=\"col-form-label col-lg-2\">\n                                Event date\n                              </label>\n                              <div class=\"col-lg-10\">\n                                <div class=\"input-daterange input-group\">\n                                  <DatePicker\n                                    dateFormat=\"dd/MM/yyyy\"\n                                    className=\"form-control\"\n                                    selected={state.startedAt}\n                                    onChange={(date) => {\n                                      handleChange('startedAt', date);\n                                    }}\n                                  />\n                                  <DatePicker\n                                    dateFormat=\"dd/MM/yyyy\"\n                                    className=\"form-control\"\n                                    selected={state.endedAt}\n                                    onChange={(date) => {\n                                      handleChange('endedAt', date);\n                                    }}\n                                  />\n                                </div>\n                              </div>\n                            </div>\n                          )}\n\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"taskbudget\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Image\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <Upload\n                                initFiles={[state.image]}\n                                onUploaded={(files) => {\n                                  handleChange('image', files[0]);\n                                }}\n                                maxFiles={1}\n                              />\n                            </div>\n                          </div>\n                        </div>\n                        <div class=\"row justify-content-end\">\n                          <div class=\"col-lg-10\">\n                            <button type=\"submit\" class=\"btn btn-primary\">\n                              Save\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nCreatePostPage.propTypes = {};\n\nexport default withLayout(CreatePostPage);\n","import request from '../utils/request';\n\nexport const getConfigs = async () => {\n  try {\n    const response = await request('/config');\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const updateConfigs = async (configData) => {\n  try {\n    const response = await request('/config', {\n      method: 'PUT',\n      body: JSON.stringify(configData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getTastyConfig = async () => {\n  try {\n    const response = await request('/tasty');\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const updateTastyConfig = async (configData) => {\n  try {\n    const response = await request('/tasty', {\n      method: 'PUT',\n      body: JSON.stringify(configData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getAboutUsConfig = async () => {\n  try {\n    const response = await request('/about-us');\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const updateAboutUsConfig = async (configData) => {\n  try {\n    const response = await request('/about-us', {\n      method: 'PUT',\n      body: JSON.stringify(configData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport toastr from 'toastr';\nimport { useRecoilValue } from 'recoil';\n\nimport Upload from '../../components/Upload';\n\nimport { getConfigs, updateConfigs } from '../../apis/configs';\n\nimport withLayout from '../../hocs/withLayout';\nimport withRole from '../../utils/withRole';\n\nimport { ROLE_ADMIN, SALE_MOD, B3_MOD } from '../../configs';\nimport authState from '../../atoms/auth';\n\nfunction SettingPage(props) {\n  const auth = useRecoilValue(authState);\n  const [state, setState] = useState({\n    banners: [],\n    slogan: '',\n    description: '',\n    ctaImage: '',\n    ctaTitle: '',\n    ctaDescription: '',\n    ctaUrl: '',\n\n    loading: false,\n  });\n  const handleGetConfigs = async () => {\n    try {\n      setState({ ...state, loading: true });\n      const response = await getConfigs();\n      const {\n        banners,\n        slogan,\n        description,\n        ctaImage,\n        ctaTitle,\n        ctaDescription,\n        ctaUrl,\n      } = response.data;\n      setState({\n        ...state,\n        banners,\n        slogan,\n        description,\n        ctaImage,\n        ctaTitle,\n        ctaDescription,\n        ctaUrl,\n        loading: false,\n      });\n    } catch (error) {\n      setState({ ...state, loading: false });\n      toastr['error'](error.message);\n    }\n  };\n\n  useEffect(() => {\n    handleGetConfigs();\n  }, []);\n\n  const handleChangeSetting = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleUpdateConfig = async (event) => {\n    event.preventDefault();\n    if (!withRole([ROLE_ADMIN, B3_MOD], auth.role)) {\n      toastr['error']('You do not have permission to do this');\n    }\n    try {\n      const response = await updateConfigs({\n        banners: state.banners,\n        slogan: state.slogan,\n        description: state.description,\n        ctaImage: state.ctaImage,\n        ctaTitle: state.ctaTitle,\n        ctaDescription: state.ctaDescription,\n        ctaUrl: state.ctaUrl,\n      });\n      toastr['success']('Cập nhật setting thành công');\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n  };\n\n  return (\n    <div class=\"page-content\">\n      <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n              <h4 class=\"mb-0 font-size-18\">Settings</h4>\n\n              {/* <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\">\n                      <a href=\"javascript: void(0);\">Tasks</a>\n                    </li>\n                    <li class=\"breadcrumb-item active\">Create Task</li>\n                  </ol>\n                </div> */}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n            <div class=\"card\">\n              <div class=\"card-body\">\n                <h4 class=\"card-title mb-4\">Settings</h4>\n                {!state.loading && (\n                  <form class=\"outer-repeater\" onSubmit={handleUpdateConfig}>\n                    <div data-repeater-list=\"outer-group\" class=\"outer\">\n                      <div data-repeater-item class=\"outer\">\n                        <div class=\"form-group row mb-4\">\n                          <label\n                            for=\"taskbudget\"\n                            class=\"col-form-label col-lg-2\"\n                          >\n                            Banners\n                          </label>\n                          <div class=\"col-lg-10\">\n                            <Upload\n                              initFiles={state.banners}\n                              onUploaded={(files) => {\n                                handleChangeSetting('banners', files);\n                              }}\n                              maxFiles={20}\n                            />\n                          </div>\n                        </div>\n                        <div class=\"form-group row mb-4\">\n                          <label\n                            for=\"setting-slogan\"\n                            class=\"col-form-label col-lg-2\"\n                          >\n                            Slogan\n                          </label>\n                          <div class=\"col-lg-10\">\n                            <textarea\n                              class=\"form-control\"\n                              rows=\"2\"\n                              id=\"setting-slogan\"\n                              value={state.slogan}\n                              onChange={(event) =>\n                                handleChangeSetting(\n                                  'slogan',\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </div>\n                        </div>\n                        <div class=\"form-group row mb-4\">\n                          <label\n                            for=\"setting-description\"\n                            class=\"col-form-label col-lg-2\"\n                          >\n                            Description\n                          </label>\n                          <div class=\"col-lg-10\">\n                            <textarea\n                              class=\"form-control\"\n                              rows=\"3\"\n                              id=\"setting-description\"\n                              value={state.description}\n                              onChange={(event) =>\n                                handleChangeSetting(\n                                  'description',\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </div>\n                        </div>\n                        <div class=\"form-group row mb-4\">\n                          <label for=\"taskname\" class=\"col-form-label col-lg-2\">\n                            CTA Image\n                          </label>\n                          <div class=\"col-lg-10\">\n                            <Upload\n                              initFiles={[state.ctaImage]}\n                              onUploaded={(files) => {\n                                handleChangeSetting('ctaImage', files[0]);\n                              }}\n                              maxFiles={1}\n                            />\n                          </div>\n                        </div>\n                        <div class=\"form-group row mb-4\">\n                          <label\n                            for=\"setting-cta-title\"\n                            class=\"col-form-label col-lg-2\"\n                          >\n                            CTA Title\n                          </label>\n                          <div class=\"col-lg-10\">\n                            <input\n                              id=\"setting-cta-title\"\n                              name=\"taskname\"\n                              type=\"text\"\n                              class=\"form-control\"\n                              placeholder=\"Enter CTA Title...\"\n                              value={state.ctaTitle}\n                              onChange={(event) =>\n                                handleChangeSetting(\n                                  'ctaTitle',\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </div>\n                        </div>\n                        <div class=\"form-group row mb-4\">\n                          <label\n                            for=\"setting-cta-description\"\n                            class=\"col-form-label col-lg-2\"\n                          >\n                            CTA Description\n                          </label>\n                          <div class=\"col-lg-10\">\n                            <input\n                              id=\"setting-cta-description\"\n                              name=\"taskname\"\n                              type=\"text\"\n                              class=\"form-control\"\n                              placeholder=\"Enter CTA Description...\"\n                              value={state.ctaDescription}\n                              onChange={(event) =>\n                                handleChangeSetting(\n                                  'ctaDescription',\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </div>\n                        </div>\n                        <div class=\"form-group row mb-4\">\n                          <label\n                            for=\"setting-cta-url\"\n                            class=\"col-form-label col-lg-2\"\n                          >\n                            CTA Url\n                          </label>\n                          <div class=\"col-lg-10\">\n                            <input\n                              id=\"setting-cta-url\"\n                              name=\"taskname\"\n                              type=\"text\"\n                              class=\"form-control\"\n                              placeholder=\"Enter CTA Url...\"\n                              value={state.ctaUrl}\n                              onChange={(event) =>\n                                handleChangeSetting(\n                                  'ctaUrl',\n                                  event.target.value\n                                )\n                              }\n                            />\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"row justify-content-end\">\n                        <div class=\"col-lg-10\">\n                          <button type=\"submit\" class=\"btn btn-primary\">\n                            Save\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </form>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nSettingPage.propTypes = {};\n\nexport default withLayout(SettingPage);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport toastr from 'toastr';\nimport ReactPaginate from 'react-paginate';\nimport { useHistory } from 'react-router-dom';\nimport { useRecoilValue } from 'recoil';\n\nimport { getPosts, deletePost } from '../../apis/posts';\n\nimport withLayout from '../../hocs/withLayout';\nimport withRole from '../../utils/withRole';\n\nimport { ROLE_ADMIN, SALE_MOD, B3_MOD } from '../../configs';\nimport authState from '../../atoms/auth';\n\nconst LIMIT = 20;\n\nfunction UsersPage(props) {\n  const auth = useRecoilValue(authState);\n  const history = useHistory();\n  const [state, setState] = useState({\n    openModalCreate: false,\n    openModalUpdate: false,\n    userSelected: {},\n    posts: [],\n    total: 0,\n    page: 1,\n    type: '',\n    name: '',\n    loading: false,\n  });\n\n  const handleChangeSearchValue = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleSearchPosts = async (page, type, name) => {\n    setState({\n      ...state,\n      loading: true,\n      page,\n    });\n    const newState = {\n      ...state,\n      loading: true,\n      page,\n    };\n    try {\n      const response = await getPosts(LIMIT, page, type, name);\n      newState.posts = response.data.posts;\n      newState.total = response.data.total;\n      newState.loading = false;\n    } catch (error) {\n      newState.loading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  useEffect(() => {\n    handleSearchPosts(1, state.type, state.name);\n  }, []);\n\n  const handleDeletePost = async (postSlug) => {\n    const newState = {\n      ...state,\n      loading: true,\n    };\n    try {\n      const response = await deletePost(postSlug);\n      newState.loading = false;\n      newState.posts = state.posts.filter(({ slug }) => slug !== postSlug);\n    } catch (error) {\n      newState.loading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  return (\n    <>\n      <div className=\"page-content\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <div className=\"page-title-box d-flex align-items-center justify-content-between\">\n                <h4 className=\"mb-0 font-size-18\">Post List</h4>\n                {withRole([ROLE_ADMIN, SALE_MOD, B3_MOD], auth.role) && (\n                  <div className=\"page-title-right\">\n                    <button\n                      type=\"submit\"\n                      class=\"btn btn-primary w-md\"\n                      onClick={() => {\n                        history.push('/create-post');\n                      }}\n                    >\n                      Thêm bài viết\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-lg-3\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <h4 class=\"card-title mb-4\">Filter</h4>\n                  <form\n                    onSubmit={(event) => {\n                      event.preventDefault();\n                      handleSearchPosts(1, state.type, state.name);\n                    }}\n                  >\n                    <div class=\"form-group\">\n                      <label for=\"type-select\">Loại</label>\n                      <select\n                        class=\"form-control\"\n                        id=\"type-select\"\n                        value={state.type}\n                        onChange={(event) =>\n                          handleChangeSearchValue('type', event.target.value)\n                        }\n                      >\n                        <option value=\"\">Tất cả</option>\n                        <option value=\"article\">Blog</option>\n                        <option value=\"faq\">Faq</option>\n                        <option value=\"video\">Video</option>\n                        <option value=\"event\">Event</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"name-select\">Tên</label>\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        id=\"name-select\"\n                        value={state.name}\n                        onChange={(event) =>\n                          handleChangeSearchValue('name', event.target.value)\n                        }\n                      />\n                    </div>\n                    <button type=\"submit\" class=\"btn btn-primary\">\n                      Tìm kiếm\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-9\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-centered table-nowrap table-hover\">\n                      <thead className=\"thead-light\">\n                        <tr>\n                          <th scope=\"col\" style={{ width: '70px' }}>\n                            #\n                          </th>\n                          <th scope=\"col\">Title</th>\n                          <th scope=\"col\">Type</th>\n                          <th scope=\"col\">Created time</th>\n                          {/* <th scope=\"col\">Point</th>\n                          <th scope=\"col\">Level</th> */}\n                          <th>Action</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {state.posts.map((post, index) => {\n                          return (\n                            <tr key={post._id}>\n                              <td>\n                                <img\n                                  class=\"rounded-circle avatar-xs\"\n                                  src={post.image}\n                                  alt=\"\"\n                                ></img>\n                              </td>\n                              <td>\n                                <h5 className=\"font-size-14 mb-1\">\n                                  <a className=\"text-dark\">{post.title}</a>\n                                </h5>\n                                <p className=\"text-muted mb-0\">\n                                  {post.description}\n                                </p>\n                              </td>\n                              <td>\n                                <div>\n                                  <a className=\"badge badge-soft-primary font-size-11 m-1\">\n                                    {post.type}\n                                  </a>\n                                </div>\n                              </td>\n                              <td>{post.createdAt}</td>\n                              <td>\n                                <div class=\"dropdown\">\n                                  <a\n                                    class=\"dropdown-toggle card-drop\"\n                                    data-toggle=\"dropdown\"\n                                    aria-expanded=\"false\"\n                                  >\n                                    <i class=\"mdi mdi-dots-horizontal font-size-18\"></i>\n                                  </a>\n                                  <ul className=\"dropdown-menu dropdown-menu-right\">\n                                    {withRole(\n                                      [ROLE_ADMIN, SALE_MOD, B3_MOD],\n                                      auth.role\n                                    ) && (\n                                      <>\n                                        <li>\n                                          <a\n                                            onClick={() => {\n                                              history.push(\n                                                `/post/${post.slug}`\n                                              );\n                                              // setState({\n                                              //   ...state,\n                                              //   openModalUpdate: true,\n                                              //   userSelected: user,\n                                              // });\n                                            }}\n                                            class=\"dropdown-item\"\n                                          >\n                                            <i class=\"mdi mdi-pencil font-size-16 text-success mr-1\"></i>{' '}\n                                            Edit\n                                          </a>\n                                        </li>\n                                        <li>\n                                          <a\n                                            onClick={() =>\n                                              handleDeletePost(post.slug)\n                                            }\n                                            class=\"dropdown-item\"\n                                          >\n                                            <i class=\"mdi mdi-trash-can font-size-16 text-danger mr-1\"></i>{' '}\n                                            Delete\n                                          </a>\n                                        </li>\n                                      </>\n                                    )}\n                                  </ul>\n                                </div>\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-lg-12\">\n                      <ReactPaginate\n                        previousLabel={<i class=\"mdi mdi-chevron-left\"></i>}\n                        nextLabel={<i class=\"mdi mdi-chevron-right\"></i>}\n                        forcePage={state.page - 1}\n                        breakLabel={'...'}\n                        breakClassName={'break-me'}\n                        pageCount={Math.ceil(state.total / LIMIT)}\n                        marginPagesDisplayed={2}\n                        pageRangeDisplayed={2}\n                        onPageChange={(page) => {\n                          handleSearchPosts(\n                            page.selected + 1,\n                            state.type,\n                            state.name\n                          );\n                        }}\n                        containerClassName=\"pagination pagination-rounded justify-content-center mt-4\"\n                        pageClassName=\"page-item\"\n                        previousClassName=\"page-item\"\n                        nextClassName=\"page-item\"\n                        activeClassName=\"active\"\n                        pageLinkClassName=\"page-link\"\n                        previousLinkClassName=\"page-link\"\n                        nextLinkClassName=\"page-link\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nUsersPage.propTypes = {};\n\nexport default withLayout(UsersPage);\n","import request from '../utils/request';\n\nexport const getPages = async () => {\n  try {\n    const response = await request(`/page`);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getPage = async (type) => {\n  try {\n    const response = await request(`/page/${type}`);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const updatePage = async (type, pageSetting) => {\n  try {\n    const response = await request(`/page/${type}`, {\n      method: 'PUT',\n      body: JSON.stringify(pageSetting),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\n// import BalloonEditor from '@ckeditor/ckeditor5-build-balloon';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport toastr from 'toastr';\nimport { useRecoilValue } from 'recoil';\n\nimport withLayout from '../../hocs/withLayout';\n\nimport { getPages, updatePage } from '../../apis/page';\n\nimport withRole from '../../utils/withRole';\n\nimport { ROLE_ADMIN, SALE_MOD, B3_MOD } from '../../configs';\nimport authState from '../../atoms/auth';\n\nconst defaultPageSelected = {\n  name: '',\n  type: '',\n  content: '',\n};\n\nfunction SettingPages(props) {\n  const auth = useRecoilValue(authState);\n\n  const [state, setState] = useState({\n    pages: [],\n    loading: false,\n    pageSelected: defaultPageSelected,\n  });\n\n  const handleChangePageContent = (value) => {\n    setState({\n      ...state,\n      pageSelected: {\n        ...state.pageSelected,\n        content: value,\n      },\n    });\n  };\n\n  const handleGetPages = async () => {\n    try {\n      setState({ ...state, loading: true });\n      const response = await getPages();\n      const [firstPage = {}] = response.data || [];\n      setState({\n        ...state,\n        loading: false,\n        pages: response.data,\n        pageSelected: {\n          name: firstPage.name,\n          type: firstPage.type,\n          content: firstPage.content,\n        },\n      });\n    } catch (error) {\n      setState({ loading: false });\n      toastr['error'](error.message);\n    }\n  };\n\n  const handleChangePage = (page) => {\n    setState({\n      ...state,\n      pageSelected: {\n        name: page.name,\n        type: page.type,\n        content: page.content,\n      },\n    });\n  };\n\n  const handleSaveSetting = async () => {\n    if (!withRole([ROLE_ADMIN, B3_MOD], auth.role)) {\n      toastr['error']('You do not have permission to do this');\n    }\n    try {\n      const response = await updatePage(\n        state.pageSelected.type,\n        state.pageSelected\n      );\n      toastr['success']('Cập nhật thành công!');\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n  };\n\n  useEffect(() => {\n    handleGetPages();\n  }, []);\n\n  return (\n    <div class=\"page-content\">\n      <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n              <h4 class=\"mb-0 font-size-18\">Edit pages</h4>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div className=\"col-lg-3\">\n            <div class=\"card\">\n              <div class=\"card-body\">\n                <h4 class=\"card-title mb-4\">Pages</h4>\n                <ul class=\"list-unstyled megamenu-list\">\n                  {state.pages.map((page) => {\n                    return (\n                      <li key={page.type} style={{ marginBottom: '5px' }}>\n                        <b\n                          onClick={() => handleChangePage(page)}\n                          key=\"t-lightbox\"\n                          style={{ cursor: 'pointer' }}\n                        >\n                          {page.name}\n                        </b>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-lg-9\">\n            {!state.loading && (\n              <>\n                <div className=\"page-title-box d-flex align-items-center justify-content-between\">\n                  <h4 className=\"mb-0 font-size-18\">\n                    {state.pageSelected.name}\n                  </h4>\n\n                  <button\n                    class=\"btn btn-primary w-md\"\n                    onClick={handleSaveSetting}\n                  >\n                    {state.loading && (\n                      <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\n                    )}\n                    Save\n                  </button>\n                </div>\n\n                <div class=\"card\">\n                  <div class=\"card-body\">\n                    <CKEditor\n                      config={{\n                        height: 200,\n                      }}\n                      // editor={BalloonEditor}\n                      editor={ClassicEditor}\n                      data={state.pageSelected.content}\n                      onChange={(event, editor) => {\n                        // console.log('on chage');\n                        // const data = editor.getData();\n                        // handleChangePageContent(data);\n                        // console.log({ event, editor, data });\n                      }}\n                      onBlur={(event, editor) => {\n                        console.log('on blur');\n                        const data = editor.getData();\n                        handleChangePageContent(data);\n                      }}\n                    />\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nSettingPages.propTypes = {};\n\nexport default withLayout(SettingPages);\n","import request from '../utils/request';\n\nexport const findFeedbacks = async (limit, page, name) => {\n  try {\n    const response = await request(\n      `/review/all?limit=${limit}&page=${page}&name=${name}`\n    );\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const updateFeedback = async (feedbackId, feedbackData) => {\n  try {\n    const response = await request(`/review/${feedbackId}`, {\n      method: 'PUT',\n      body: JSON.stringify(feedbackData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const deleteFeedback = async (feedbackId) => {\n  try {\n    const response = await request(`/review/${feedbackId}`, {\n      method: 'DELETE',\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport toastr from 'toastr';\nimport ReactPaginate from 'react-paginate';\nimport { useRecoilValue } from 'recoil';\n\nimport Modal from '../../components/Modal';\nimport ModalHeader from '../../components/Modal/ModalHeader';\nimport ModalBody from '../../components/Modal/ModalBody';\nimport ModalFooter from '../../components/Modal/ModalFooter';\n\nimport {\n  findFeedbacks,\n  updateFeedback,\n  deleteFeedback,\n} from '../../apis/feedbacks';\n\nimport withLayout from '../../hocs/withLayout';\n\nimport withRole from '../../utils/withRole';\n\nimport { ROLE_ADMIN, SALE_MOD, B3_MOD } from '../../configs';\nimport authState from '../../atoms/auth';\n\nconst LIMIT = 20;\n\nfunction ModalDetailFeedback({ visible, onClose, feedback }) {\n  return (\n    <Modal visible={visible}>\n      <ModalHeader>\n        <h5 class=\"modal-title\">Feedback Details</h5>\n        <button\n          type=\"button\"\n          class=\"close\"\n          data-dismiss=\"modal\"\n          aria-label=\"Close\"\n          onClick={onClose}\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </ModalHeader>\n      <ModalBody>\n        <table class=\"table table-centered table-nowrap\">\n          <tbody>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">ID</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{feedback._id}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Name</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{feedback.name}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Email</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{feedback.email}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Title</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{feedback.title}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Description</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{feedback.description}</th>\n            </tr>\n            <tr>\n              <td>\n                <div>\n                  <h5 class=\"text-truncate font-size-14\">Product</h5>\n                </div>\n              </td>\n              <th scope=\"row\">{(feedback.product || {}).name}</th>\n            </tr>\n          </tbody>\n        </table>\n      </ModalBody>\n      <ModalFooter>\n        <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\n          Close\n        </button>\n      </ModalFooter>\n    </Modal>\n  );\n}\n\nfunction ModalUpdateFeedback({ visible, onClose, feedback, onUpdated }) {\n  const [state, setState] = useState({\n    name: feedback.name || '',\n    email: feedback.email || '',\n    title: feedback.title || '',\n    description: feedback.description || '',\n  });\n\n  const handleChangeFeedbackInfo = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleUpdateFeedback = async (event) => {\n    setState({ ...state, loading: true });\n    try {\n      event.preventDefault();\n\n      const response = await updateFeedback(feedback._id, {\n        name: state.name,\n        email: state.email,\n        title: state.title,\n        description: state.description,\n      });\n      onUpdated(response.data);\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n    setState({ ...state, loading: false });\n  };\n\n  return (\n    <Modal visible={visible}>\n      <ModalHeader>\n        <h5 class=\"modal-title\">Update feedback</h5>\n        <button\n          type=\"button\"\n          class=\"close\"\n          data-dismiss=\"modal\"\n          aria-label=\"Close\"\n          onClick={onClose}\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </ModalHeader>\n      <form onSubmit={handleUpdateFeedback}>\n        <ModalBody>\n          <div class=\"form-group row mb-4\">\n            <label for=\"feedbackName\" class=\"col-sm-3 col-form-label\">\n              Name\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"feedbackName\"\n                value={state.name}\n                onChange={(event) =>\n                  handleChangeFeedbackInfo('name', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"feedbackEmail\" class=\"col-sm-3 col-form-label\">\n              Email\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"feedbackEmail\"\n                value={state.email}\n                onChange={(event) =>\n                  handleChangeFeedbackInfo('email', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"feedbackTitle\" class=\"col-sm-3 col-form-label\">\n              Title\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"feedbackTitle\"\n                value={state.title}\n                onChange={(event) =>\n                  handleChangeFeedbackInfo('title', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"feedbackDescription\" class=\"col-sm-3 col-form-label\">\n              Description\n            </label>\n            <div class=\"col-sm-9\">\n              <textarea\n                required=\"\"\n                class=\"form-control\"\n                rows=\"3\"\n                id=\"feedbackDescription\"\n                value={state.description}\n                onChange={(event) =>\n                  handleChangeFeedbackInfo('description', event.target.value)\n                }\n              ></textarea>\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\n            Close\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary w-md\">\n            {state.loading && (\n              <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\n            )}\n            Submit\n          </button>\n        </ModalFooter>\n      </form>\n    </Modal>\n  );\n}\n\nfunction FeedbacksPage(props) {\n  const auth = useRecoilValue(authState);\n  const [state, setState] = useState({\n    openModalDetail: false,\n    openModalUpdate: false,\n    feedbackSelected: {},\n    feedbacks: [],\n    total: 0,\n    page: 1,\n    name: '',\n    loading: false,\n  });\n\n  const handleChangeSearchValue = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleSearchFeedbacks = async (page, name) => {\n    setState({\n      ...state,\n      loading: true,\n      page,\n    });\n    const newState = {\n      ...state,\n      loading: true,\n      page,\n    };\n    try {\n      const response = await findFeedbacks(LIMIT, page, name);\n      newState.feedbacks = response.data.reviews;\n      newState.total = response.data.total;\n      newState.loading = false;\n    } catch (error) {\n      newState.loading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  useEffect(() => {\n    handleSearchFeedbacks(1, state.name);\n  }, []);\n\n  const handleDeleteFeedback = async (feedbackId) => {\n    const newState = {\n      ...state,\n      loading: true,\n    };\n    try {\n      const response = await deleteFeedback(feedbackId);\n      newState.loading = false;\n      newState.feedbacks = state.feedbacks.filter(\n        ({ _id }) => _id !== feedbackId\n      );\n    } catch (error) {\n      newState.loading = false;\n      toastr['error'](error.message);\n    }\n    setState(newState);\n  };\n\n  const handleShowOnFeedbackPage = async (feedbackId, isShow) => {\n    if (!withRole([ROLE_ADMIN, SALE_MOD], auth.role)) {\n      toastr['error']('You do not have permission to do this');\n    }\n    try {\n      const response = await updateFeedback(feedbackId, { isShow });\n      const feedback = response.data || {};\n      setState({\n        ...state,\n        feedbacks: state.feedbacks.map((_feedback) => {\n          if (_feedback._id === feedback._id) {\n            return feedback;\n          }\n          return _feedback;\n        }),\n      });\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n  };\n\n  return (\n    <>\n      {state.openModalDetail && (\n        <ModalDetailFeedback\n          visible={state.openModalDetail}\n          feedback={state.feedbackSelected}\n          onClose={() => {\n            setState({\n              ...state,\n              openModalDetail: false,\n              feedbackSelected: {},\n            });\n          }}\n        />\n      )}\n      {state.openModalUpdate && (\n        <ModalUpdateFeedback\n          visible={state.openModalUpdate}\n          feedback={state.feedbackSelected}\n          onClose={() => {\n            setState({\n              ...state,\n              openModalUpdate: false,\n              feedbackSelected: {},\n            });\n          }}\n          onUpdated={(feedback) => {\n            setState({\n              ...state,\n              openModalUpdate: false,\n              feedbackSelected: {},\n              feedbacks: state.feedbacks.map((_feedback) => {\n                if (_feedback._id === feedback._id) {\n                  return feedback;\n                }\n                return _feedback;\n              }),\n            });\n          }}\n        />\n      )}\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n          <div class=\"row\">\n            <div className=\"col-lg-3\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <h4 class=\"card-title mb-4\">Filter</h4>\n                  <form\n                    onSubmit={(event) => {\n                      event.preventDefault();\n                      handleSearchFeedbacks(1, state.name);\n                    }}\n                  >\n                    <div class=\"form-group\">\n                      <label for=\"name-select\">Tên</label>\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        id=\"name-select\"\n                        value={state.name}\n                        onChange={(event) => {\n                          handleChangeSearchValue('name', event.target.value);\n                        }}\n                      />\n                    </div>\n                    <button type=\"submit\" class=\"btn btn-primary\">\n                      Tìm kiếm\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-9\">\n              <div class=\"\">\n                <div class=\"table-responsive\">\n                  <table class=\"table project-list-table table-nowrap table-centered table-borderless\">\n                    <thead>\n                      <tr>\n                        {/* <th scope=\"col\" style={{ width: '100px' }}>\n                      #\n                    </th> */}\n                        <th>Name</th>\n                        <th>Rate</th>\n                        <th>Product</th>\n                        <th>Show on feedback page</th>\n                        <th>View Details</th>\n                        <th>Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {state.feedbacks.map((feedback, index) => {\n                        return (\n                          <tr key={feedback._id}>\n                            {/* <td>\n                          <img\n                            src={(feedback.images || [])[0]}\n                            alt=\"\"\n                            class=\"avatar-sm\"\n                          />\n                        </td> */}\n                            <td>\n                              <h5 class=\"text-truncate font-size-14\">\n                                <a href=\"#\" class=\"text-dark\">\n                                  {feedback.name}\n                                </a>\n                              </h5>\n                              <p class=\"text-muted mb-0\">\n                                {feedback.description}\n                              </p>\n                            </td>\n                            <td>{feedback.rate}</td>\n                            <td>{(feedback.product || {}).name}</td>\n                            <td>\n                              {feedback.isShow ? (\n                                <span\n                                  class=\"badge badge-pill badge-soft-success font-size-12\"\n                                  onClick={() =>\n                                    handleShowOnFeedbackPage(\n                                      feedback._id,\n                                      false\n                                    )\n                                  }\n                                  style={{ cursor: 'pointer' }}\n                                >\n                                  Show\n                                </span>\n                              ) : (\n                                <span\n                                  class=\"badge badge-pill badge-soft-warning font-size-12\"\n                                  onClick={() =>\n                                    handleShowOnFeedbackPage(feedback._id, true)\n                                  }\n                                  style={{ cursor: 'pointer' }}\n                                >\n                                  Hiden\n                                </span>\n                              )}\n                            </td>\n                            <td>\n                              <button\n                                type=\"button\"\n                                class=\"btn btn-primary btn-sm btn-rounded\"\n                                onClick={() => {\n                                  setState({\n                                    ...state,\n                                    openModalDetail: true,\n                                    feedbackSelected: feedback,\n                                  });\n                                }}\n                              >\n                                View Details\n                              </button>\n                            </td>\n                            <td>\n                              <div class=\"dropdown\">\n                                <a\n                                  href=\"#\"\n                                  class=\"dropdown-toggle card-drop\"\n                                  data-toggle=\"dropdown\"\n                                  aria-expanded=\"false\"\n                                >\n                                  <i class=\"mdi mdi-dots-horizontal font-size-18\"></i>\n                                </a>\n                                <ul class=\"dropdown-menu dropdown-menu-right\">\n                                  {withRole(\n                                    [ROLE_ADMIN, SALE_MOD],\n                                    auth.role\n                                  ) && (\n                                    <>\n                                      <li>\n                                        <a\n                                          onClick={() => {\n                                            setState({\n                                              ...state,\n                                              openModalUpdate: true,\n                                              feedbackSelected: feedback,\n                                            });\n                                          }}\n                                          class=\"dropdown-item\"\n                                        >\n                                          <i class=\"mdi mdi-pencil font-size-16 text-success mr-1\"></i>{' '}\n                                          Edit\n                                        </a>\n                                      </li>\n                                      <li>\n                                        <a\n                                          onClick={() =>\n                                            handleDeleteFeedback(feedback._id)\n                                          }\n                                          class=\"dropdown-item\"\n                                        >\n                                          <i class=\"mdi mdi-trash-can font-size-16 text-danger mr-1\"></i>{' '}\n                                          Delete\n                                        </a>\n                                      </li>\n                                    </>\n                                  )}\n                                </ul>\n                              </div>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-lg-12\">\n                    <ReactPaginate\n                      previousLabel={<i class=\"mdi mdi-chevron-left\"></i>}\n                      nextLabel={<i class=\"mdi mdi-chevron-right\"></i>}\n                      forcePage={state.page - 1}\n                      breakLabel={'...'}\n                      breakClassName={'break-me'}\n                      pageCount={Math.ceil(state.total / LIMIT)}\n                      marginPagesDisplayed={2}\n                      pageRangeDisplayed={2}\n                      onPageChange={(page) => {\n                        handleSearchFeedbacks(page.selected + 1, state.name);\n                      }}\n                      containerClassName=\"pagination pagination-rounded justify-content-center mt-4\"\n                      pageClassName=\"page-item\"\n                      previousClassName=\"page-item\"\n                      nextClassName=\"page-item\"\n                      activeClassName=\"active\"\n                      pageLinkClassName=\"page-link\"\n                      previousLinkClassName=\"page-link\"\n                      nextLinkClassName=\"page-link\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nFeedbacksPage.propTypes = {};\n\nexport default withLayout(FeedbacksPage);\n","import React, { useState, useEffect } from 'react';\nimport { Form, Input, Button, Spin, Select, InputNumber } from 'antd';\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\nimport debounce from 'lodash/debounce';\nimport { useRecoilValue } from 'recoil';\n\nimport PropTypes from 'prop-types';\nimport toastr from 'toastr';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\n// import BalloonEditor from '@ckeditor/ckeditor5-build-balloon';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nimport Upload from '../../components/Upload';\n\nimport { getTastyConfig, updateTastyConfig } from '../../apis/configs';\nimport { findProducts } from '../../apis/products';\n\nimport withLayout from '../../hocs/withLayout';\n\nimport withRole from '../../utils/withRole';\n\nimport { ROLE_ADMIN, SALE_MOD, B3_MOD } from '../../configs';\nimport authState from '../../atoms/auth';\n\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nconst layout = {\n  labelCol: { span: 2 },\n  wrapperCol: { span: 22 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 2, span: 22 },\n};\n\nfunction TastyPage(props) {\n  const auth = useRecoilValue(authState);\n  const [state, setState] = useState({\n    // title: '',\n    // ctaImage: '',\n    // ctaDescription: '',\n    // title1: '',\n    // title2: '',\n    // ctaDescription2: '',\n    // products: '',\n    // housePoursTitle: '',\n    // housePoursDescription: '',\n    // sparklingTitle: '',\n    // housePours: '',\n    tasty: {},\n\n    loading: false,\n    sProducts: [],\n    fetching: false,\n  });\n  const handleGetConfigs = async () => {\n    try {\n      setState({ ...state, loading: true });\n      const response = await getTastyConfig();\n      setState({\n        ...state,\n        tasty: response.data || {},\n      });\n    } catch (error) {\n      setState({ ...state, loading: false });\n      toastr['error'](error.message);\n    }\n  };\n\n  useEffect(() => {\n    handleGetConfigs();\n  }, []);\n\n  const [form] = Form.useForm();\n  const onFinish = async (values) => {\n    if (!withRole([ROLE_ADMIN, B3_MOD, SALE_MOD], auth.role)) {\n      toastr['error']('You do not have permission to do this');\n    }\n    try {\n      const response = await updateTastyConfig(values);\n      toastr['success']('Cập nhật setting thành công');\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n  };\n\n  return (\n    <>\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-0 font-size-18\">Settings</h4>\n\n                {/* <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\">\n                      <a href=\"javascript: void(0);\">Tasks</a>\n                    </li>\n                    <li class=\"breadcrumb-item active\">Create Task</li>\n                  </ol>\n                </div> */}\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-lg-12\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  {/* <h4 class=\"card-title mb-4\">Settings</h4> */}\n                  {!state.loading && (\n                    <Form\n                      // {...layout}\n                      form={form}\n                      name=\"dynamic_form_nest_item\"\n                      onFinish={onFinish}\n                      autoComplete=\"off\"\n                      initialValues={state.tasty}\n                    >\n                      <Form.Item {...layout} name=\"title\" label=\"Title\">\n                        <TextArea rows={2} />\n                      </Form.Item>\n                      <Form.Item {...layout} name=\"ctaImage\" label=\"Banner\">\n                        <Upload\n                          initFiles={[(state.tasty || {}).ctaImage]}\n                          onUploaded={(files) => {\n                            form.setFieldsValue({ ctaImage: files[0] });\n                          }}\n                          maxFiles={1}\n                        />\n                      </Form.Item>\n                      <Form.Item\n                        {...layout}\n                        name=\"ctaDescription\"\n                        label=\"Description\"\n                      >\n                        <TextArea rows={3} />\n                      </Form.Item>\n                      <Form.Item {...layout} name=\"title1\" label=\"Title 1\">\n                        <TextArea rows={2} />\n                      </Form.Item>\n                      <Form.Item {...layout} name=\"title2\" label=\"Title 2\">\n                        <TextArea rows={2} />\n                      </Form.Item>\n                      <Form.Item\n                        {...layout}\n                        name=\"ctaDescription2\"\n                        label=\"Description 2\"\n                      >\n                        <TextArea rows={2} />\n                      </Form.Item>\n\n                      <div className=\"ant-row ant-form-item\">\n                        <div className=\"ant-col ant-col-2 ant-form-item-label\">\n                          <label title=\"Products 2\">Products</label>\n                        </div>\n                        <div className=\"ant-col ant-col-22 ant-form-item-control\">\n                          <Form.List name=\"products\" noStyle>\n                            {(fields, { add, remove }) => (\n                              <>\n                                {fields.map((field, index) => (\n                                  <div\n                                    className=\"\"\n                                    style={{\n                                      display: 'flex',\n                                      alignItems: 'center',\n                                    }}\n                                  >\n                                    <div\n                                      style={{\n                                        display: 'flex',\n                                        flexDirection: 'column',\n                                        flex: 1,\n                                      }}\n                                    >\n                                      <div\n                                        style={{\n                                          display: 'flex',\n                                          flexDirection: 'column',\n                                          marginBottom: '15px',\n                                        }}\n                                      >\n                                        <label>Name</label>\n                                        <Form.Item\n                                          {...field}\n                                          noStyle\n                                          name={[field.name, 'name']}\n                                        >\n                                          <Input />\n                                        </Form.Item>\n                                      </div>\n\n                                      <div\n                                        style={{\n                                          display: 'flex',\n                                          justifyContent: 'space-between',\n                                          marginBottom: '15px',\n                                        }}\n                                      >\n                                        <div\n                                          style={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            flex: 1,\n                                            marginRight: '5px',\n                                          }}\n                                        >\n                                          <label>Type</label>\n                                          <Form.Item\n                                            {...field}\n                                            noStyle\n                                            name={[field.name, 'type']}\n                                          >\n                                            <Input />\n                                          </Form.Item>\n                                        </div>\n                                        <div\n                                          style={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            flex: 1,\n                                            marginLeft: '5px',\n                                          }}\n                                        >\n                                          <label>Origin</label>\n                                          <Form.Item\n                                            {...field}\n                                            noStyle\n                                            name={[field.name, 'origin']}\n                                          >\n                                            <Input />\n                                          </Form.Item>\n                                        </div>\n                                      </div>\n                                      <div\n                                        style={{\n                                          display: 'flex',\n                                          flexDirection: 'column',\n                                          marginBottom: '15px',\n                                        }}\n                                      >\n                                        <label>Description</label>\n                                        <Form.Item\n                                          {...field}\n                                          noStyle\n                                          name={[field.name, 'description']}\n                                        >\n                                          <TextArea rows={2} />\n                                        </Form.Item>\n                                      </div>\n\n                                      <div\n                                        style={{\n                                          display: 'flex',\n                                          justifyContent: 'space-between',\n                                          marginBottom: '15px',\n                                        }}\n                                      >\n                                        <div\n                                          style={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            flex: 1,\n                                            marginRight: '5px',\n                                          }}\n                                        >\n                                          <label>Price 25ml</label>\n                                          <Form.Item\n                                            {...field}\n                                            noStyle\n                                            name={[field.name, 'price25']}\n                                          >\n                                            <InputNumber\n                                              style={{ width: '100%' }}\n                                            />\n                                          </Form.Item>\n                                        </div>\n                                        <div\n                                          style={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            flex: 1,\n                                            marginRight: '5px',\n                                            marginLeft: '5px',\n                                          }}\n                                        >\n                                          <label>Price 75ml</label>\n                                          <Form.Item\n                                            {...field}\n                                            noStyle\n                                            name={[field.name, 'price75']}\n                                          >\n                                            <InputNumber\n                                              style={{ width: '100%' }}\n                                            />\n                                          </Form.Item>\n                                        </div>\n                                        <div\n                                          style={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            flex: 1,\n                                            marginRight: '5px',\n                                            marginLeft: '5px',\n                                          }}\n                                        >\n                                          <label>Price 125ml</label>\n                                          <Form.Item\n                                            {...field}\n                                            noStyle\n                                            name={[field.name, 'price125']}\n                                          >\n                                            <InputNumber\n                                              style={{ width: '100%' }}\n                                            />\n                                          </Form.Item>\n                                        </div>\n                                        <div\n                                          style={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            flex: 1,\n                                            marginLeft: '5px',\n                                          }}\n                                        >\n                                          <label>Price bottle</label>\n                                          <Form.Item\n                                            {...field}\n                                            noStyle\n                                            name={[field.name, 'bottle']}\n                                          >\n                                            <InputNumber\n                                              style={{ width: '100%' }}\n                                            />\n                                          </Form.Item>\n                                        </div>\n                                      </div>\n                                    </div>\n                                    <MinusCircleOutlined\n                                      onClick={() => remove(field.name)}\n                                      style={{\n                                        height: 'fit-content',\n                                        width: '50px',\n                                      }}\n                                    />\n                                  </div>\n                                ))}\n\n                                <Form.Item>\n                                  <Button\n                                    type=\"dashed\"\n                                    onClick={() => add()}\n                                    block\n                                    icon={<PlusOutlined />}\n                                  >\n                                    Add product\n                                  </Button>\n                                </Form.Item>\n                              </>\n                            )}\n                          </Form.List>\n                        </div>\n                      </div>\n                      <Form.Item\n                        {...layout}\n                        name=\"housePoursTitle\"\n                        label=\"House pours title\"\n                      >\n                        <TextArea rows={2} />\n                      </Form.Item>\n                      <Form.Item\n                        {...layout}\n                        name=\"housePoursDescription\"\n                        label=\"House pours desctiption\"\n                      >\n                        <TextArea rows={3} />\n                      </Form.Item>\n                      <Form.Item\n                        {...layout}\n                        name=\"sparklingTitle\"\n                        label=\"Sparkling title\"\n                      >\n                        <TextArea rows={2} />\n                      </Form.Item>\n                      <div className=\"ant-row ant-form-item\">\n                        <div className=\"ant-col ant-col-2 ant-form-item-label\">\n                          <label title=\"Products 2\">House pours</label>\n                        </div>\n                        <div className=\"ant-col ant-col-22 ant-form-item-control\">\n                          <Form.List name=\"housePours\" noStyle>\n                            {(fields, { add, remove }) => (\n                              <>\n                                {fields.map((field, index) => (\n                                  <div\n                                    className=\"\"\n                                    style={{\n                                      display: 'flex',\n                                      alignItems: 'center',\n                                    }}\n                                  >\n                                    <div\n                                      style={{\n                                        display: 'flex',\n                                        flex: 1,\n                                        justifyContent: 'space-between',\n                                        marginBottom: '15px',\n                                        // flexDirection: 'column',\n                                      }}\n                                    >\n                                      <div\n                                        style={{\n                                          display: 'flex',\n                                          flexDirection: 'column',\n                                          flex: 1,\n                                          marginRight: '20px',\n                                        }}\n                                      >\n                                        <label>Name</label>\n                                        <Form.Item\n                                          {...field}\n                                          noStyle\n                                          name={[field.name, 'name']}\n                                        >\n                                          <Input\n                                            style={{\n                                              width: '100%',\n                                            }}\n                                          />\n                                        </Form.Item>\n                                      </div>\n                                      <div\n                                        style={{\n                                          display: 'flex',\n                                          flexDirection: 'column',\n                                        }}\n                                      >\n                                        <label>Price</label>\n                                        <Form.Item\n                                          {...field}\n                                          noStyle\n                                          name={[field.name, 'price']}\n                                        >\n                                          <InputNumber />\n                                        </Form.Item>\n                                      </div>\n                                    </div>\n                                    <MinusCircleOutlined\n                                      onClick={() => remove(field.name)}\n                                      style={{\n                                        height: 'fit-content',\n                                        width: '50px',\n                                      }}\n                                    />\n                                  </div>\n                                ))}\n\n                                <Form.Item>\n                                  <Button\n                                    type=\"dashed\"\n                                    onClick={() => add()}\n                                    block\n                                    icon={<PlusOutlined />}\n                                  >\n                                    Add product\n                                  </Button>\n                                </Form.Item>\n                              </>\n                            )}\n                          </Form.List>\n                        </div>\n                      </div>\n\n                      <Form.Item>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                          Submit\n                        </Button>\n                      </Form.Item>\n                    </Form>\n                    // <form class=\"outer-repeater\" onSubmit={handleUpdateConfig}>\n                    //   <div data-repeater-list=\"outer-group\" class=\"outer\">\n                    //     <div data-repeater-item class=\"outer\">\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-title\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           Title\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <textarea\n                    //             class=\"form-control\"\n                    //             rows=\"2\"\n                    //             id=\"setting-title\"\n                    //             value={state.title}\n                    //             onChange={(event) =>\n                    //               handleChangeSetting(\n                    //                 'title',\n                    //                 event.target.value\n                    //               )\n                    //             }\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"taskbudget\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           Banner\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <Upload\n                    //             initFiles={[state.ctaImage]}\n                    //             onUploaded={(files) => {\n                    //               handleChangeSetting('ctaImage', files);\n                    //             }}\n                    //             maxFiles={1}\n                    //           />\n                    //         </div>\n                    //       </div>\n\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-description\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           Description\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <textarea\n                    //             class=\"form-control\"\n                    //             rows=\"3\"\n                    //             id=\"setting-description\"\n                    //             value={state.ctaDescription}\n                    //             onChange={(event) =>\n                    //               handleChangeSetting(\n                    //                 'ctaDescription',\n                    //                 event.target.value\n                    //               )\n                    //             }\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-title\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           Title 1\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <textarea\n                    //             class=\"form-control\"\n                    //             rows=\"2\"\n                    //             id=\"setting-title1\"\n                    //             value={state.title1}\n                    //             onChange={(event) =>\n                    //               handleChangeSetting(\n                    //                 'title1',\n                    //                 event.target.value\n                    //               )\n                    //             }\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-title\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           Title 2\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <textarea\n                    //             class=\"form-control\"\n                    //             rows=\"2\"\n                    //             id=\"setting-title2\"\n                    //             value={state.title2}\n                    //             onChange={(event) =>\n                    //               handleChangeSetting(\n                    //                 'title2',\n                    //                 event.target.value\n                    //               )\n                    //             }\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-description2\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           Description 2\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <textarea\n                    //             class=\"form-control\"\n                    //             rows=\"3\"\n                    //             id=\"setting-description2\"\n                    //             value={state.ctaDescription2}\n                    //             onChange={(event) =>\n                    //               handleChangeSetting(\n                    //                 'ctaDescription2',\n                    //                 event.target.value\n                    //               )\n                    //             }\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-description2\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           Products\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <div>\n                    //             <input\n                    //               id=\"setting-cta-title\"\n                    //               name=\"taskname\"\n                    //               type=\"text\"\n                    //               class=\"form-control\"\n                    //               placeholder=\"Product\"\n                    //             />\n                    //             <div\n                    //               style={{\n                    //                 display: 'flex',\n                    //                 flexWrap: 'wrap',\n                    //                 justifyContent: 'space-between',\n                    //                 marginTop: '5px',\n                    //               }}\n                    //             >\n                    //               <input\n                    //                 id=\"setting-cta-title\"\n                    //                 name=\"taskname\"\n                    //                 type=\"number\"\n                    //                 class=\"form-control\"\n                    //                 placeholder=\"Price 25ml\"\n                    //                 style={{ width: '23%' }}\n                    //               />\n                    //               <input\n                    //                 id=\"setting-cta-title\"\n                    //                 name=\"taskname\"\n                    //                 type=\"number\"\n                    //                 class=\"form-control\"\n                    //                 placeholder=\"Price 75ml\"\n                    //                 style={{ width: '23%' }}\n                    //               />\n                    //               <input\n                    //                 id=\"setting-cta-title\"\n                    //                 name=\"taskname\"\n                    //                 type=\"number\"\n                    //                 class=\"form-control\"\n                    //                 placeholder=\"Price 125ml\"\n                    //                 style={{ width: '23%' }}\n                    //               />\n                    //               <input\n                    //                 id=\"setting-cta-title\"\n                    //                 name=\"taskname\"\n                    //                 type=\"number\"\n                    //                 class=\"form-control\"\n                    //                 placeholder=\"Price bottle\"\n                    //                 style={{ width: '23%' }}\n                    //               />\n                    //             </div>\n                    //           </div>\n                    //           {/* <CKEditor\n                    //             config={{\n                    //               height: 200,\n                    //             }}\n                    //             // editor={BalloonEditor}\n                    //             editor={ClassicEditor}\n                    //             data={state.products}\n                    //             onChange={(event, editor) => {\n                    //               // console.log('on chage');\n                    //               // const data = editor.getData();\n                    //               // handleChangePageContent(data);\n                    //               // console.log({ event, editor, data });\n                    //             }}\n                    //             onBlur={(event, editor) => {\n                    //               console.log('on blur');\n                    //               const data = editor.getData();\n                    //               handleChangeSetting('products', data);\n                    //             }}\n                    //           /> */}\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-title\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           House pours title\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <textarea\n                    //             class=\"form-control\"\n                    //             rows=\"2\"\n                    //             id=\"setting-title2\"\n                    //             value={state.housePoursTitle}\n                    //             onChange={(event) =>\n                    //               handleChangeSetting(\n                    //                 'housePoursTitle',\n                    //                 event.target.value\n                    //               )\n                    //             }\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-description2\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           House pours desctiption\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <textarea\n                    //             class=\"form-control\"\n                    //             rows=\"3\"\n                    //             id=\"setting-description2\"\n                    //             value={state.housePoursDescription}\n                    //             onChange={(event) =>\n                    //               handleChangeSetting(\n                    //                 'housePoursDescription',\n                    //                 event.target.value\n                    //               )\n                    //             }\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-title\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           Sparkling title\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <textarea\n                    //             class=\"form-control\"\n                    //             rows=\"2\"\n                    //             id=\"setting-title2\"\n                    //             value={state.sparklingTitle}\n                    //             onChange={(event) =>\n                    //               handleChangeSetting(\n                    //                 'sparklingTitle',\n                    //                 event.target.value\n                    //               )\n                    //             }\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //       <div class=\"form-group row mb-4\">\n                    //         <label\n                    //           for=\"setting-description2\"\n                    //           class=\"col-form-label col-lg-2\"\n                    //         >\n                    //           House pours\n                    //         </label>\n                    //         <div class=\"col-lg-10\">\n                    //           <CKEditor\n                    //             config={{\n                    //               height: 200,\n                    //             }}\n                    //             // editor={BalloonEditor}\n                    //             editor={ClassicEditor}\n                    //             data={state.housePours}\n                    //             onChange={(event, editor) => {\n                    //               // console.log('on chage');\n                    //               // const data = editor.getData();\n                    //               // handleChangePageContent(data);\n                    //               // console.log({ event, editor, data });\n                    //             }}\n                    //             onBlur={(event, editor) => {\n                    //               console.log('on blur');\n                    //               const data = editor.getData();\n                    //               handleChangeSetting('housePours', data);\n                    //             }}\n                    //           />\n                    //         </div>\n                    //       </div>\n                    //     </div>\n                    //     <div class=\"row justify-content-end\">\n                    //       <div class=\"col-lg-10\">\n                    //         <button type=\"submit\" class=\"btn btn-primary\">\n                    //           Save\n                    //         </button>\n                    //       </div>\n                    //     </div>\n                    //   </div>\n                    // </form>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nTastyPage.propTypes = {};\n\nexport default withLayout(TastyPage);\n","import React, { useState, useEffect } from 'react';\nimport { Form, Input, Button, Spin, Select, InputNumber } from 'antd';\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\nimport debounce from 'lodash/debounce';\n\nimport PropTypes from 'prop-types';\nimport toastr from 'toastr';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\n// import BalloonEditor from '@ckeditor/ckeditor5-build-balloon';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nimport Upload from '../../components/Upload';\n\nimport { getAboutUsConfig, updateAboutUsConfig } from '../../apis/configs';\nimport { findProducts } from '../../apis/products';\n\nimport withLayout from '../../hocs/withLayout';\n\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nconst layout = {\n  labelCol: { span: 2 },\n  wrapperCol: { span: 22 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 2, span: 22 },\n};\n\nfunction TastyPage(props) {\n  const [state, setState] = useState({\n    ident: '',\n    title: '',\n    description: '',\n    title2: '',\n    title2Image: '',\n    description2: '',\n    title3: '',\n    description3: '',\n    title4: '',\n    description4: '',\n\n    loading: false,\n  });\n  const handleGetConfigs = async () => {\n    try {\n      setState({ ...state, loading: true });\n      const response = await getAboutUsConfig();\n      const {\n        title,\n        description,\n        title2,\n        title2Image,\n        description2,\n        title3,\n        description3,\n        title4,\n        description4,\n      } = response.data;\n      setState({\n        ...state,\n        title,\n        description,\n        title2,\n        title2Image,\n        description2,\n        title3,\n        description3,\n        title4,\n        description4,\n        loading: false,\n      });\n    } catch (error) {\n      setState({ ...state, loading: false });\n      toastr['error'](error.message);\n    }\n  };\n\n  useEffect(() => {\n    handleGetConfigs();\n  }, []);\n\n  const handleChangeSetting = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleUpdateConfig = async (event) => {\n    event.preventDefault();\n    try {\n      const response = await updateAboutUsConfig({\n        title: state.title,\n        description: state.description,\n        title2: state.title2,\n        title2Image: state.title2Image,\n        description2: state.description2,\n        title3: state.title3,\n        description3: state.description3,\n        title4: state.title4,\n        description4: state.description4,\n      });\n      toastr['success']('Cập nhật setting thành công');\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n  };\n\n  return (\n    <>\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-0 font-size-18\">Settings</h4>\n\n                {/* <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\">\n                      <a href=\"javascript: void(0);\">Tasks</a>\n                    </li>\n                    <li class=\"breadcrumb-item active\">Create Task</li>\n                  </ol>\n                </div> */}\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-lg-12\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  {/* <h4 class=\"card-title mb-4\">Settings</h4> */}\n                  {!state.loading && (\n                    <form class=\"outer-repeater\" onSubmit={handleUpdateConfig}>\n                      <div data-repeater-list=\"outer-group\" class=\"outer\">\n                        <div data-repeater-item class=\"outer\">\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"setting-title\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Title\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <textarea\n                                class=\"form-control\"\n                                rows=\"2\"\n                                id=\"setting-title\"\n                                value={state.title}\n                                onChange={(event) =>\n                                  handleChangeSetting(\n                                    'title',\n                                    event.target.value\n                                  )\n                                }\n                              />\n                            </div>\n                          </div>\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"setting-description\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Description\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <textarea\n                                class=\"form-control\"\n                                rows=\"3\"\n                                id=\"setting-description\"\n                                value={state.description}\n                                onChange={(event) =>\n                                  handleChangeSetting(\n                                    'description',\n                                    event.target.value\n                                  )\n                                }\n                              />\n                            </div>\n                          </div>\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"setting-description\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Tiêu đề thương hiệu\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <textarea\n                                class=\"form-control\"\n                                rows=\"2\"\n                                id=\"setting-description\"\n                                value={state.title2}\n                                onChange={(event) =>\n                                  handleChangeSetting(\n                                    'title2',\n                                    event.target.value\n                                  )\n                                }\n                              />\n                            </div>\n                          </div>\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"taskbudget\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Ảnh thương hiệu\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <Upload\n                                initFiles={[state.title2Image]}\n                                onUploaded={(files) => {\n                                  handleChangeSetting('title2Image', files);\n                                }}\n                                maxFiles={1}\n                              />\n                            </div>\n                          </div>\n\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"setting-description\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Mô tả thương hiệu\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <textarea\n                                class=\"form-control\"\n                                rows=\"3\"\n                                id=\"setting-description\"\n                                value={state.description2}\n                                onChange={(event) =>\n                                  handleChangeSetting(\n                                    'description2',\n                                    event.target.value\n                                  )\n                                }\n                              />\n                            </div>\n                          </div>\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"setting-title\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Tiêu đề chứng nhận\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <textarea\n                                class=\"form-control\"\n                                rows=\"2\"\n                                id=\"setting-title1\"\n                                value={state.title3}\n                                onChange={(event) =>\n                                  handleChangeSetting(\n                                    'title3',\n                                    event.target.value\n                                  )\n                                }\n                              />\n                            </div>\n                          </div>\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"setting-title\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Mô tả chứng nhận\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <textarea\n                                class=\"form-control\"\n                                rows=\"2\"\n                                id=\"setting-title2\"\n                                value={state.description3}\n                                onChange={(event) =>\n                                  handleChangeSetting(\n                                    'description3',\n                                    event.target.value\n                                  )\n                                }\n                              />\n                            </div>\n                          </div>\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"setting-title\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Tiêu đề đối tác\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <textarea\n                                class=\"form-control\"\n                                rows=\"2\"\n                                id=\"setting-title1\"\n                                value={state.title4}\n                                onChange={(event) =>\n                                  handleChangeSetting(\n                                    'title4',\n                                    event.target.value\n                                  )\n                                }\n                              />\n                            </div>\n                          </div>\n                          <div class=\"form-group row mb-4\">\n                            <label\n                              for=\"setting-title\"\n                              class=\"col-form-label col-lg-2\"\n                            >\n                              Mô tả đối tác\n                            </label>\n                            <div class=\"col-lg-10\">\n                              <textarea\n                                class=\"form-control\"\n                                rows=\"2\"\n                                id=\"setting-title2\"\n                                value={state.description4}\n                                onChange={(event) =>\n                                  handleChangeSetting(\n                                    'description4',\n                                    event.target.value\n                                  )\n                                }\n                              />\n                            </div>\n                          </div>\n                        </div>\n                        <div class=\"row justify-content-end\">\n                          <div class=\"col-lg-10\">\n                            <button type=\"submit\" class=\"btn btn-primary\">\n                              Save\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nTastyPage.propTypes = {};\n\nexport default withLayout(TastyPage);\n","import request from '../utils/request';\n\nexport const getVouchers = async (limit, page, code, type, available) => {\n  try {\n    const response = await request(\n      `/voucher/all?limit=${limit}&page=${page}&code=${code}&type=${type}&available=${available}`\n    );\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const createVoucher = async (voucherData) => {\n  try {\n    const response = await request('/voucher', {\n      method: 'POST',\n      body: JSON.stringify(voucherData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const updateVoucher = async (voucherId, voucherData) => {\n  try {\n    const response = await request(`/voucher/${voucherId}`, {\n      method: 'PUT',\n      body: JSON.stringify(voucherData),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const deleteVoucher = async (voucherId) => {\n  try {\n    const response = await request(`/voucher/${voucherId}`, {\n      method: 'DELETE',\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactPaginate from 'react-paginate';\r\nimport moment from 'moment';\r\nimport DatePicker from 'react-datepicker';\r\nimport toastr from 'toastr';\r\nimport { Select, Spin } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport debounce from 'lodash/debounce';\r\nimport { useRecoilValue } from 'recoil';\r\nimport numeral from 'numeral';\r\n\r\nimport Modal from '../../components/Modal';\r\nimport ModalHeader from '../../components/Modal/ModalHeader';\r\nimport ModalBody from '../../components/Modal/ModalBody';\r\nimport ModalFooter from '../../components/Modal/ModalFooter';\r\n\r\nimport withLayout from '../../hocs/withLayout';\r\nimport cleanObj from '../../utils/cleanObj';\r\nimport withRole from '../../utils/withRole';\r\n\r\nimport { ROLE_ADMIN, SALE_MOD } from '../../configs';\r\n\r\nimport authState from '../../atoms/auth';\r\n\r\nimport { getUsers } from '../../apis/users';\r\nimport {\r\n  getVouchers,\r\n  createVoucher,\r\n  updateVoucher,\r\n  deleteVoucher,\r\n} from '../../apis/vouchers';\r\n\r\nconst LIMIT = 20;\r\nconst { Option } = Select;\r\n\r\nfunction ModalUpdateVoucher({\r\n  visible,\r\n  onClose,\r\n  voucher,\r\n  onUpdated,\r\n  isCreate,\r\n}) {\r\n  const [state, setState] = useState({\r\n    code: voucher.code || '',\r\n    value: voucher.value || 0,\r\n    type: voucher.type || 'price',\r\n    userIds: voucher.userIds || [],\r\n    validAt: voucher.validAt ? new Date(voucher.validAt) : '',\r\n    isAll: voucher.isAll || false,\r\n\r\n    values: [],\r\n    users: [],\r\n    loading: false,\r\n    fetching: false,\r\n  });\r\n\r\n  const handleChangeVoucherInfo = (prop, value) => {\r\n    setState({\r\n      ...state,\r\n      [prop]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    setState({ ...state, loading: true });\r\n    try {\r\n      event.preventDefault();\r\n      const voucherInfo = {\r\n        code: state.code,\r\n        type: state.type,\r\n        value: state.value,\r\n        userIds: state.userIds,\r\n        validAt: state.validAt,\r\n        isAll: state.isAll,\r\n      };\r\n      cleanObj(voucherInfo);\r\n      let response = {};\r\n      if (isCreate) {\r\n        response = await createVoucher(voucherInfo);\r\n      } else {\r\n        response = await updateVoucher(voucher._id, voucherInfo);\r\n      }\r\n      onUpdated(response.data);\r\n    } catch (error) {\r\n      toastr['error'](error.message);\r\n    }\r\n    setState({ ...state, loading: false });\r\n  };\r\n\r\n  const handleSearchUsers = async (name) => {\r\n    setState({\r\n      ...state,\r\n      fetching: true,\r\n    });\r\n    const newState = {\r\n      ...state,\r\n      fetching: true,\r\n    };\r\n    try {\r\n      const response = await getUsers(10, 1, name, '', '');\r\n      newState.users = response.data.users;\r\n      newState.fetching = false;\r\n    } catch (error) {\r\n      newState.fetching = false;\r\n      toastr['error'](error.message);\r\n    }\r\n    setState(newState);\r\n  };\r\n\r\n  return (\r\n    <Modal visible={visible}>\r\n      <ModalHeader>\r\n        <h5 class=\"modal-title\">\r\n          {isCreate ? 'Create voucher' : 'Update voucher'}\r\n        </h5>\r\n        <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          data-dismiss=\"modal\"\r\n          aria-label=\"Close\"\r\n          onClick={onClose}\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </ModalHeader>\r\n      <form onSubmit={handleSubmit}>\r\n        <ModalBody>\r\n          <div class=\"form-group row mb-4\">\r\n            <label htmlFor=\"code\" class=\"col-sm-3 col-form-label\">\r\n              Code\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"code\"\r\n                value={state.code}\r\n                onChange={(event) =>\r\n                  handleChangeVoucherInfo('code', event.target.value)\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label htmlFor=\"userAddress\" class=\"col-sm-3 col-form-label\">\r\n              Loại giá trị\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <select\r\n                class=\"form-control\"\r\n                id=\"level-select\"\r\n                value={state.type}\r\n                onChange={(event) =>\r\n                  handleChangeVoucherInfo('type', event.target.value)\r\n                }\r\n              >\r\n                <option value=\"percent\">%</option>\r\n                <option value=\"price\">vnđ</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label htmlFor=\"value\" class=\"col-sm-3 col-form-label\">\r\n              Giá trị\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <input\r\n                type=\"number\"\r\n                class=\"form-control\"\r\n                id=\"value\"\r\n                value={state.value}\r\n                onChange={(event) =>\r\n                  handleChangeVoucherInfo('value', event.target.value)\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label htmlFor=\"users\" class=\"col-sm-3 col-form-label\">\r\n              Thành viên (để trống nếu là loại chung)\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <Select\r\n                mode=\"multiple\"\r\n                labelInValue\r\n                value={state.values}\r\n                placeholder=\"Select users\"\r\n                notFoundContent={state.fetching ? <Spin size=\"small\" /> : null}\r\n                filterOption={false}\r\n                onSearch={debounce(handleSearchUsers, 800)}\r\n                onChange={(values) =>\r\n                  setState({\r\n                    ...state,\r\n                    values,\r\n                    userIds: values.map(({ key }) => key),\r\n                  })\r\n                }\r\n                style={{ width: '100%' }}\r\n              >\r\n                {state.users.map((user) => (\r\n                  <Option key={user._id}>{user.name}</Option>\r\n                ))}\r\n              </Select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label htmlFor=\"userBirday\" class=\"col-sm-3 col-form-label\">\r\n              Valid at\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <DatePicker\r\n                dateFormat=\"dd/MM/yyyy\"\r\n                className=\"form-control\"\r\n                selected={state.validAt}\r\n                onChange={(date) => {\r\n                  handleChangeVoucherInfo('validAt', date);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group row mb-4\">\r\n            <label htmlFor=\"userAddress\" class=\"col-sm-3 col-form-label\">\r\n              Loại\r\n            </label>\r\n            <div class=\"col-sm-9\">\r\n              <select\r\n                class=\"form-control\"\r\n                id=\"level-select\"\r\n                value={state.isAll}\r\n                onChange={(event) =>\r\n                  handleChangeVoucherInfo('isAll', event.target.value)\r\n                }\r\n              >\r\n                <option value={true}>Dùng chung</option>\r\n                <option value={false}>Cá nhân</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\r\n            Close\r\n          </button>\r\n          <button type=\"submit\" class=\"btn btn-primary w-md\">\r\n            {state.loading && (\r\n              <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\r\n            )}\r\n            Submit\r\n          </button>\r\n        </ModalFooter>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VouchersPage(props) {\r\n  const auth = useRecoilValue(authState);\r\n  const [state, setState] = useState({\r\n    openModalCreate: false,\r\n    openModalUpdate: false,\r\n    voucherSelected: {},\r\n    vouchers: [],\r\n    total: 0,\r\n    page: 1,\r\n    code: '',\r\n    type: 0,\r\n    available: 0,\r\n    loading: false,\r\n  });\r\n\r\n  const handleChangeSearchValue = (prop, value) => {\r\n    setState({\r\n      ...state,\r\n      [prop]: value,\r\n    });\r\n  };\r\n\r\n  const handleSearchVouchers = async (page, code, type, available) => {\r\n    setState({\r\n      ...state,\r\n      loading: true,\r\n      page,\r\n    });\r\n    const newState = {\r\n      ...state,\r\n      loading: true,\r\n      page,\r\n    };\r\n    try {\r\n      const response = await getVouchers(LIMIT, page, code, type, available);\r\n      newState.vouchers = response.data.vouchers;\r\n      newState.total = response.data.total;\r\n      newState.loading = false;\r\n    } catch (error) {\r\n      newState.loading = false;\r\n      toastr['error'](error.message);\r\n    }\r\n    setState(newState);\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleSearchVouchers(1, state.code, state.type, state.available);\r\n  }, []);\r\n\r\n  const handleDeleteVoucher = async (voucherId) => {\r\n    const newState = {\r\n      ...state,\r\n      loading: true,\r\n    };\r\n    try {\r\n      const response = await deleteVoucher(voucherId);\r\n      newState.loading = false;\r\n      newState.vouchers = state.vouchers.filter(({ _id }) => _id !== voucherId);\r\n    } catch (error) {\r\n      newState.loading = false;\r\n      toastr['error'](error.message);\r\n    }\r\n    setState(newState);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {(state.openModalUpdate || state.openModalCreate) && (\r\n        <ModalUpdateVoucher\r\n          isCreate={state.openModalCreate}\r\n          visible={state.openModalUpdate || state.openModalCreate}\r\n          voucher={state.voucherSelected}\r\n          onClose={() => {\r\n            setState({\r\n              ...state,\r\n              openModalUpdate: false,\r\n              openModalCreate: false,\r\n              voucherSelected: {},\r\n            });\r\n          }}\r\n          onUpdated={(voucher) => {\r\n            if (state.openModalCreate) {\r\n              setState({\r\n                ...state,\r\n                openModalCreate: false,\r\n                vouchers:\r\n                  state.vouchers.length === LIMIT\r\n                    ? [voucher, ...state.vouchers].slice(0, -1)\r\n                    : [voucher, ...state.vouchers],\r\n              });\r\n            } else {\r\n              setState({\r\n                ...state,\r\n                openModalUpdate: false,\r\n                voucherSelected: {},\r\n                vouchers: state.vouchers.map((_voucher) => {\r\n                  if (_voucher._id === voucher._id) {\r\n                    return voucher;\r\n                  }\r\n                  return _voucher;\r\n                }),\r\n              });\r\n            }\r\n          }}\r\n        />\r\n      )}\r\n      <div className=\"page-content\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"page-title-box d-flex align-items-center justify-content-between\">\r\n                <h4 className=\"mb-0 font-size-18\">Vouchers List</h4>\r\n\r\n                <div className=\"page-title-right\">\r\n                  {withRole([ROLE_ADMIN], auth.role) && (\r\n                    <button\r\n                      type=\"submit\"\r\n                      class=\"btn btn-primary w-md\"\r\n                      onClick={() => {\r\n                        setState({\r\n                          ...state,\r\n                          openModalCreate: true,\r\n                        });\r\n                      }}\r\n                    >\r\n                      Thêm voucher\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-3\">\r\n              <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                  <h4 class=\"card-title mb-4\">Filter</h4>\r\n                  <form\r\n                    onSubmit={(event) => {\r\n                      event.preventDefault();\r\n                      handleSearchVouchers(\r\n                        1,\r\n                        state.code,\r\n                        state.type,\r\n                        state.available\r\n                      );\r\n                    }}\r\n                  >\r\n                    <div class=\"form-group\">\r\n                      <label htmlFor=\"role-select\">Loại</label>\r\n                      <select\r\n                        class=\"form-control\"\r\n                        id=\"role-select\"\r\n                        value={state.type}\r\n                        onChange={(event) => {\r\n                          handleChangeSearchValue('type', event.target.value);\r\n                        }}\r\n                      >\r\n                        <option value={0}>Tất cả</option>\r\n                        <option value={1}>Dùng chung</option>\r\n                        <option value={2}>Cá nhân</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label htmlFor=\"role-select\">Thời hạn</label>\r\n                      <select\r\n                        class=\"form-control\"\r\n                        id=\"role-select\"\r\n                        value={state.available}\r\n                        onChange={(event) => {\r\n                          handleChangeSearchValue(\r\n                            'available',\r\n                            event.target.value\r\n                          );\r\n                        }}\r\n                      >\r\n                        <option value={0}>Tất cả</option>\r\n                        <option value={1}>Còn hạn</option>\r\n                        <option value={2}>Hết hạn</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label htmlFor=\"name-select\">Mã</label>\r\n                      <input\r\n                        class=\"form-control\"\r\n                        type=\"text\"\r\n                        id=\"name-select\"\r\n                        value={state.code}\r\n                        onChange={(event) => {\r\n                          handleChangeSearchValue('code', event.target.value);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <button type=\"submit\" class=\"btn btn-primary\">\r\n                      Tìm kiếm\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-9\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-centered table-nowrap table-hover\">\r\n                      <thead className=\"thead-light\">\r\n                        <tr>\r\n                          <th scope=\"col\" style={{ width: '70px' }}>\r\n                            #\r\n                          </th>\r\n                          <th scope=\"col\">Code</th>\r\n                          <th scope=\"col\">Giá trị</th>\r\n                          <th scope=\"col\">Loại</th>\r\n                          <th scope=\"col\">Thời hạn</th>\r\n                          <th>Action</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {state.vouchers.map((voucher, index) => {\r\n                          return (\r\n                            <tr key={voucher._id}>\r\n                              <td></td>\r\n                              <td>{voucher.code}</td>\r\n                              <td>\r\n                                {numeral(voucher.value).format('0,0')}\r\n                                {voucher.type === 'percent' ? '%' : 'đ'}\r\n                              </td>\r\n                              <td>\r\n                                {voucher.isAll ? 'Dùng chung' : 'Cá nhân'}\r\n                              </td>\r\n                              <td>\r\n                                {moment(voucher.validAt).format('DD-MM-YYYY')}\r\n                              </td>\r\n                              <td>\r\n                                <div class=\"dropdown\">\r\n                                  <a\r\n                                    class=\"dropdown-toggle card-drop\"\r\n                                    data-toggle=\"dropdown\"\r\n                                    aria-expanded=\"false\"\r\n                                  >\r\n                                    <i class=\"mdi mdi-dots-horizontal font-size-18\"></i>\r\n                                  </a>\r\n                                  <ul className=\"dropdown-menu dropdown-menu-right\">\r\n                                    {withRole([ROLE_ADMIN], auth.role) && (\r\n                                      <>\r\n                                        <li>\r\n                                          <a\r\n                                            onClick={() => {\r\n                                              setState({\r\n                                                ...state,\r\n                                                openModalUpdate: true,\r\n                                                voucherSelected: voucher,\r\n                                              });\r\n                                            }}\r\n                                            class=\"dropdown-item\"\r\n                                          >\r\n                                            <i class=\"mdi mdi-pencil font-size-16 text-success mr-1\"></i>{' '}\r\n                                            Edit\r\n                                          </a>\r\n                                        </li>\r\n                                        <li>\r\n                                          <a\r\n                                            onClick={() => {\r\n                                              handleDeleteVoucher(voucher._id);\r\n                                            }}\r\n                                            class=\"dropdown-item\"\r\n                                          >\r\n                                            <i class=\"mdi mdi-trash-can font-size-16 text-danger mr-1\"></i>{' '}\r\n                                            Delete\r\n                                          </a>\r\n                                        </li>\r\n                                      </>\r\n                                    )}\r\n                                  </ul>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-12\">\r\n                      <ReactPaginate\r\n                        previousLabel={<i class=\"mdi mdi-chevron-left\"></i>}\r\n                        nextLabel={<i class=\"mdi mdi-chevron-right\"></i>}\r\n                        forcePage={state.page - 1}\r\n                        breakLabel={'...'}\r\n                        breakClassName={'break-me'}\r\n                        pageCount={Math.ceil(state.total / LIMIT)}\r\n                        marginPagesDisplayed={2}\r\n                        pageRangeDisplayed={2}\r\n                        onPageChange={(page) => {\r\n                          handleSearchVouchers(\r\n                            page.selected + 1,\r\n                            state.code,\r\n                            state.type,\r\n                            state.available\r\n                          );\r\n                        }}\r\n                        containerClassName=\"pagination pagination-rounded justify-content-center mt-4\"\r\n                        pageClassName=\"page-item\"\r\n                        previousClassName=\"page-item\"\r\n                        nextClassName=\"page-item\"\r\n                        activeClassName=\"active\"\r\n                        pageLinkClassName=\"page-link\"\r\n                        previousLinkClassName=\"page-link\"\r\n                        nextLinkClassName=\"page-link\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nVouchersPage.propTypes = {};\r\n\r\nexport default withLayout(VouchersPage);\r\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport toastr from 'toastr';\nimport { useRecoilValue } from 'recoil';\n\nimport Modal from '../../components/Modal';\nimport ModalHeader from '../../components/Modal/ModalHeader';\nimport ModalBody from '../../components/Modal/ModalBody';\nimport ModalFooter from '../../components/Modal/ModalFooter';\n\nimport usePos from '../../hooks/usePos';\n\nimport { getPos, createPos, updatePos, deletePos } from '../../apis/pos';\nimport cleanObj from '../../utils/cleanObj';\n\nimport withLayout from '../../hocs/withLayout';\nimport withRole from '../../utils/withRole';\n\nimport { ROLE_ADMIN, SALE_MOD, B3_MOD } from '../../configs';\nimport authState from '../../atoms/auth';\n\nfunction ModalUpdatePos({ visible, onClose, pos, onUpdated, isCreate }) {\n  const [state, setState] = useState({\n    name: pos.name || '',\n    ip: pos.ip || '',\n    port: pos.port || '',\n    path: pos.path || '',\n\n    loading: false,\n  });\n\n  const handleChangePosInfo = (prop, value) => {\n    setState({\n      ...state,\n      [prop]: value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    setState({ ...state, loading: true });\n    try {\n      event.preventDefault();\n      const posInfo = {\n        name: state.name,\n        ip: state.ip,\n        port: state.port,\n        path: state.path,\n      };\n      cleanObj(posInfo);\n      let response = {};\n      if (isCreate) {\n        response = await createPos(posInfo);\n      } else {\n        response = await updatePos(pos._id, posInfo);\n      }\n      onUpdated(response.data);\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n    setState({ ...state, loading: false });\n  };\n\n  return (\n    <Modal visible={visible}>\n      <ModalHeader>\n        <h5 class=\"modal-title\">{isCreate ? 'Create pos' : 'Update pos'}</h5>\n        <button\n          type=\"button\"\n          class=\"close\"\n          data-dismiss=\"modal\"\n          aria-label=\"Close\"\n          onClick={onClose}\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </ModalHeader>\n      <form onSubmit={handleSubmit}>\n        <ModalBody>\n          <div class=\"form-group row mb-4\">\n            <label for=\"posName\" class=\"col-sm-3 col-form-label\">\n              Name\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"posName\"\n                value={state.name}\n                onChange={(event) =>\n                  handleChangePosInfo('name', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"ip\" class=\"col-sm-3 col-form-label\">\n              IP\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"ip\"\n                value={state.ip}\n                onChange={(event) =>\n                  handleChangePosInfo('ip', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"port\" class=\"col-sm-3 col-form-label\">\n              Port\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"port\"\n                value={state.port}\n                onChange={(event) =>\n                  handleChangePosInfo('port', event.target.value)\n                }\n              />\n            </div>\n          </div>\n          <div class=\"form-group row mb-4\">\n            <label for=\"path\" class=\"col-sm-3 col-form-label\">\n              Path\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"path\"\n                value={state.path}\n                onChange={(event) =>\n                  handleChangePosInfo('path', event.target.value)\n                }\n              />\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <button type=\"button\" class=\"btn btn-secondary\" onClick={onClose}>\n            Close\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary w-md\">\n            {state.loading && (\n              <i class=\"bx bx-loader bx-spin font-size-16 align-middle mr-2\"></i>\n            )}\n            Submit\n          </button>\n        </ModalFooter>\n      </form>\n    </Modal>\n  );\n}\n\nfunction PosPage(props) {\n  const auth = useRecoilValue(authState);\n  const [pos, setPosState] = usePos();\n  const [state, setState] = useState({\n    // pos: [],\n    // loading: false,\n    openModalCreate: false,\n    openModalUpdate: false,\n    posSelected: {},\n  });\n\n  // const handleGetPos = async () => {\n  //   try {\n  //     const response = await getPos();\n  //     setState({\n  //       ...state,\n  //       pos: response.data,\n  //     });\n  //   } catch (error) {\n  //     toastr['error'](error.message);\n  //   }\n  // };\n\n  // useEffect(() => {\n  //   handleGetPos();\n  // }, []);\n\n  const handleDeletePos = async (posId) => {\n    try {\n      const result = await deletePos(posId);\n      setPosState(pos.filter(({ _id }) => _id !== posId));\n      // setState({\n      //   ...state,\n      //   pos: state.pos.filter(({ _id }) => _id !== posId),\n      // });\n    } catch (error) {\n      toastr['error'](error.message);\n    }\n  };\n\n  return (\n    <>\n      {(state.openModalUpdate || state.openModalCreate) && (\n        <ModalUpdatePos\n          isCreate={state.openModalCreate}\n          visible={state.openModalUpdate || state.openModalCreate}\n          pos={state.posSelected}\n          onClose={() => {\n            setState({\n              ...state,\n              openModalUpdate: false,\n              openModalCreate: false,\n              posSelected: {},\n            });\n          }}\n          onUpdated={(_pos) => {\n            if (state.openModalCreate) {\n              setState({\n                ...state,\n                openModalCreate: false,\n                // pos: [pos, ...state.pos],\n              });\n              setPosState([_pos, ...pos]);\n            } else {\n              setState({\n                ...state,\n                openModalUpdate: false,\n                posSelected: {},\n                // pos: state.pos.map((_pos) => {\n                //   if (_pos._id === pos._id) {\n                //     return pos;\n                //   }\n                //   return _pos;\n                // }),\n              });\n              setPosState(\n                pos.map((p) => {\n                  if (p._id === _pos._id) {\n                    return _pos;\n                  }\n                  return p;\n                })\n              );\n            }\n          }}\n        />\n      )}\n      <div className=\"page-content\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <div className=\"page-title-box d-flex align-items-center justify-content-between\">\n                <h4 className=\"mb-0 font-size-18\">Pos List</h4>\n                <div className=\"page-title-right\">\n                  {withRole([ROLE_ADMIN], auth.role) && (\n                    <button\n                      type=\"submit\"\n                      class=\"btn btn-primary w-md\"\n                      onClick={() => {\n                        setState({\n                          ...state,\n                          openModalCreate: true,\n                        });\n                      }}\n                    >\n                      Thêm Pos\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-lg-12\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"table-responsive\">\n                    <table className=\"table table-centered table-nowrap table-hover\">\n                      <thead className=\"thead-light\">\n                        <tr>\n                          <th scope=\"col\" style={{ width: '70px' }}>\n                            #\n                          </th>\n                          <th scope=\"col\">Name</th>\n                          <th scope=\"col\">IP</th>\n                          <th scope=\"col\">Port</th>\n                          <th scope=\"col\">Path</th>\n                          <th scope=\"col\">Action</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {pos.map((_pos) => {\n                          return (\n                            <tr key={_pos._id}>\n                              <td></td>\n                              <td>\n                                <h5 className=\"font-size-14 mb-1\">\n                                  <a href=\"#\" className=\"text-dark\">\n                                    {_pos.name}\n                                  </a>\n                                </h5>\n                              </td>\n                              <td>{_pos.ip}</td>\n                              <td>{_pos.port}</td>\n                              <td>{_pos.path}</td>\n                              <td>\n                                <div class=\"dropdown\">\n                                  <a\n                                    class=\"dropdown-toggle card-drop\"\n                                    data-toggle=\"dropdown\"\n                                    aria-expanded=\"false\"\n                                  >\n                                    <i class=\"mdi mdi-dots-horizontal font-size-18\"></i>\n                                  </a>\n                                  <ul className=\"dropdown-menu dropdown-menu-right\">\n                                    {withRole([ROLE_ADMIN], auth.role) && (\n                                      <>\n                                        <li>\n                                          <a\n                                            onClick={() => {\n                                              setState({\n                                                ...state,\n                                                openModalUpdate: true,\n                                                posSelected: _pos,\n                                              });\n                                            }}\n                                            class=\"dropdown-item\"\n                                          >\n                                            <i class=\"mdi mdi-pencil font-size-16 text-success mr-1\"></i>{' '}\n                                            Edit\n                                          </a>\n                                        </li>\n                                        <li>\n                                          <a\n                                            onClick={() =>\n                                              handleDeletePos(_pos._id)\n                                            }\n                                            class=\"dropdown-item\"\n                                          >\n                                            <i class=\"mdi mdi-trash-can font-size-16 text-danger mr-1\"></i>{' '}\n                                            Delete\n                                          </a>\n                                        </li>\n                                      </>\n                                    )}\n                                  </ul>\n                                </div>\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nPosPage.propTypes = {};\n\nexport default withLayout(PosPage);\n","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport { useSetRecoilState } from 'recoil';\nimport toastr from 'toastr';\nimport includes from 'lodash/includes';\n\nimport 'toastr/build/toastr.min.css';\n\nimport { RouterRequireAuth, RouterRequireUnAuth } from './components/Route';\n\nimport Login from './containers/LoginPage';\nimport Users from './containers/UsersPage';\nimport Categories from './containers/CategoriesPage';\nimport Products from './containers/ProductsPage';\nimport Orders from './containers/OrdersPage';\nimport CreatePost from './containers/CreatePost';\nimport Settings from './containers/SettingsPage';\nimport Posts from './containers/PostsPage';\nimport EditPages from './containers/EditPages';\nimport Feedbacks from './containers/FeedbacksPage';\nimport Tasty from './containers/TastyPage';\nimport AboutUs from './containers/AboutUsPage';\nimport Vouchers from './containers/VouchersPage';\nimport Pos from './containers/PosPage';\n\nimport { getUserInfo } from './apis/auth';\nimport authState from './atoms/auth';\n\nimport { ROLE_ADMIN, ROLE_STAFF, USER_ROLES } from './configs';\n\nimport Authendication from './utils/authendication';\n\n// import 'antd/dist/antd.css';\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n  const setAuthState = useSetRecoilState(authState);\n  // eslint-disable-next-line\n  const _getUserInfo = async () => {\n    if (Authendication.getToken()) {\n      try {\n        setLoading(true);\n        const response = await getUserInfo();\n        if (includes(USER_ROLES, response.data.role)) {\n          setAuthState(response.data);\n        } else {\n          Authendication.logout();\n        }\n        setLoading(false);\n      } catch (error) {\n        toastr['error'](error.message);\n      }\n    }\n  };\n\n  useEffect(() => {\n    _getUserInfo();\n\n    toastr.options = {\n      closeButton: false,\n      debug: false,\n      newestOnTop: false,\n      progressBar: false,\n      positionClass: 'toast-top-right',\n      preventDuplicates: false,\n      onclick: null,\n      showDuration: 300,\n      hideDuration: 1000,\n      timeOut: 5000,\n      extendedTimeOut: 1000,\n      showEasing: 'swing',\n      hideEasing: 'linear',\n      showMethod: 'fadeIn',\n      hideMethod: 'fadeOut',\n    };\n  }, []);\n\n  // if (loading) {\n  //   return (\n  //     <div\n  //       style={{\n  //         height: '100vh',\n  //         display: 'flex',\n  //         justifyContent: 'center',\n  //         alignItems: 'center',\n  //       }}\n  //     >\n  //       <img src=\"./loading.svg\" alt=\"loading\" />\n  //     </div>\n  //   );\n  // }\n\n  return (\n    <Router>\n      <Switch>\n        <RouterRequireUnAuth exact path=\"/\" component={Login} />\n        <RouterRequireAuth path=\"/users\" component={Users} role={ROLE_STAFF} />\n        <RouterRequireAuth\n          path=\"/categories\"\n          component={Categories}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/vouchers\"\n          component={Vouchers}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/products\"\n          component={Products}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/orders\"\n          component={Orders}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/create-post\"\n          component={CreatePost}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/settings\"\n          component={Settings}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth path=\"/posts\" component={Posts} role={ROLE_STAFF} />\n        <RouterRequireAuth\n          path=\"/post/:postSlug\"\n          component={CreatePost}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/pages\"\n          component={EditPages}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/feedbacks\"\n          component={Feedbacks}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth path=\"/pos\" component={Pos} role={ROLE_STAFF} />\n        <RouterRequireAuth path=\"/tasty\" component={Tasty} role={ROLE_STAFF} />\n        <RouterRequireAuth\n          path=\"/about-us\"\n          component={AboutUs}\n          role={ROLE_STAFF}\n        />\n        {/* <RouterRequireAuth\n          path=\"/fanpage\"\n          component={Fanpage}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/widget\"\n          component={Widget}\n          role={ROLE_ADMIN}\n        />\n        <RouterRequireAuth\n          exact\n          path=\"/event\"\n          component={Event}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/event/new\"\n          component={CreateEvent}\n          role={ROLE_STAFF}\n        />\n        <RouterRequireAuth\n          path=\"/event/:eventId\"\n          component={CreateEvent}\n          role={ROLE_STAFF}\n        /> */}\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { RecoilRoot } from 'recoil';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport './custom.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <App />\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}